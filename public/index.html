<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The First Impact | Fate & Feeling</title>
  <link rel="stylesheet" href="/css/styles.css?v=onboard7" />
</head>
<body>
  <div class="container first-impact-page">
    <header>
      <div class="brand">Fate & Feeling</div>
      <div class="header-actions">
        <button class="btn secondary icon-btn" id="backBtnLanding" type="button" aria-label="뒤로가기">←</button>
        <button class="btn secondary" onclick="toggleTheme()">라이트/다크</button>
      </div>
    </header>

    <section class="card trust-counter-card">
      <p id="trustCounterText">지금까지 <strong id="trustCounterValue" class="number-metric">12,405</strong><span id="trustCounterTail">명이 결혼/궁합 흐름을 확인했습니다.</span></p>
    </section>

    <section class="card first-impact" id="firstImpact">
      <div class="impact-glow" aria-hidden="true"></div>
      <p class="impact-copy" id="impactCopy">어긋난 인연에도 다시 만날 '때'는 반드시 있습니다.</p>

      <div class="impact-object" aria-hidden="true">
        <div class="gold-tarot-card" id="modeCard">
          <span class="card-mini" id="modeCardTop">THE</span>
          <strong id="modeCardTitle">ZODIAC</strong>
          <span class="card-icon" id="modeCardIcon">✦</span>
          <span class="card-bgword" id="modeCardBg">ZODIAC</span>
        </div>
      </div>

      <form id="firstImpactForm" class="impact-form" novalidate>
        <div class="dual-step-nav" id="dualStepNav" hidden>
          <button type="button" class="active" data-step="self">내 정보 입력</button>
          <button type="button" data-step="partner">상대 정보 입력</button>
        </div>

        <div id="selfFields">
          <label for="name" id="nameGuideLabel">당신의 이름을 입력해 사랑의 문을 여세요.</label>
          <input id="name" placeholder="예: 지수" required />

          <label for="gender">성별</label>
          <select id="gender">
            <option value="여성">여성</option>
            <option value="남성">남성</option>
            <option value="기타">기타</option>
          </select>

          <label for="birth">생년월일</label>
          <input id="birth" type="text" inputmode="numeric" placeholder="예: 1998-07-21" required />

          <label for="birthTime">출생시간
            <span class="field-help" tabindex="0">?
              <span class="tooltip">정확한 자미두수 명반 배치를 위해 필요합니다</span>
            </span>
          </label>
          <input id="birthTime" placeholder="예: 14:30 (모르면 '모름' 입력)" />

          <label for="birthPlace">출생지
            <span class="field-help" tabindex="0">?
              <span class="tooltip">정확한 자미두수 명반 배치를 위해 필요합니다</span>
            </span>
          </label>
          <input id="birthPlace" placeholder="예: 서울" />
        </div>

        <div id="partnerFields" hidden>
          <label for="partnerName">상대 이름</label>
          <input id="partnerName" placeholder="예: 민수" />

          <label for="partnerGender">상대 성별</label>
          <select id="partnerGender">
            <option value="여성">여성</option>
            <option value="남성">남성</option>
            <option value="기타">기타</option>
          </select>

          <label for="partnerBirth">상대 생년월일</label>
          <input id="partnerBirth" type="text" inputmode="numeric" placeholder="예: 1997-11-03" />

          <label for="partnerBirthTime">상대 출생시간</label>
          <input id="partnerBirthTime" placeholder="예: 22:10" />
          <label class="tiny-check"><input type="checkbox" id="partnerBirthTimeUnknown" /> 상대방 태어난 시간 모름</label>
        </div>

        <label for="concern">카테고리 선택</label>
        <select id="concern" required>
          <option value="결혼 운세">결혼 운세</option>
          <option value="일반 궁합" selected>일반 궁합</option>
          <option value="재회운">재회운</option>
          <option value="애정운">애정운</option>
          <option value="커플운">커플운</option>
          <option value="썸운">썸운</option>
          <option value="금전/재산">금전/재산</option>
          <option value="취업/직장">취업/직장</option>
          <option value="사업/창업">사업/창업</option>
          <option value="속궁합">[19금] 속궁합</option>
          <option value="키스 궁합">[19금] 키스 궁합</option>
        </select>

        <label for="analysisMode">분석 관점 선택</label>
        <select id="analysisMode" required>
          <option value="ziwei">자미두수</option>
          <option value="saju" selected>사주</option>
          <option value="tarot">타로</option>
          <option value="astro">점성술</option>
        </select>

        <button class="btn impact-cta" id="startSubmitBtn" type="submit">자미두수로 결혼 운 확인하기</button>
      </form>
    </section>
  </div>

  <div class="modal" id="firstVisitModal" hidden>
    <div class="modal-card onboarding-modal">
      <h3>어떤 관점으로 분석해볼까?</h3>
      <p class="small">사주 · 타로 · 자미두수 · 점성술 · MBTI 전부 지원해.</p>
      <div class="audience-tabs" id="audienceTabs">
        <button type="button" class="active" data-audience="general">일반 버전</button>
        <button type="button" data-audience="adult">19세 버전</button>
      </div>
      <div class="onboarding-chips" id="onboardingConcernButtons">
        <button type="button" data-audience="general" data-concern="결혼 운세">💍 결혼 운세</button>
        <button type="button" data-audience="general" data-concern="일반 궁합" class="active">💞 일반 궁합</button>
        <button type="button" data-audience="general" data-concern="재회운">🌈 재회운</button>
        <button type="button" data-audience="general" data-concern="애정운">💗 애정운</button>
        <button type="button" data-audience="general" data-concern="커플운">💕 커플운</button>
        <button type="button" data-audience="general" data-concern="썸운">🥰 썸운</button>
        <button type="button" data-audience="general" data-concern="금전/재산">💰 금전/재산</button>
        <button type="button" data-audience="general" data-concern="취업/직장">💼 취업/직장</button>
        <button type="button" data-audience="general" data-concern="사업/창업">🚀 사업/창업</button>
        <button type="button" data-audience="adult" data-concern="속궁합">🔞 속궁합</button>
        <button type="button" data-audience="adult" data-concern="키스 궁합">💋 키스 궁합</button>
      </div>
      <p class="small" id="onboardingConcernStatus">현재 카테고리: 일반 궁합</p>
      <div class="onboarding-chips" id="onboardingModeButtons">
        <button type="button" data-mode="saju" class="active">☯ 사주</button>
        <button type="button" data-mode="tarot">🃏 타로</button>
        <button type="button" data-mode="ziwei">✦ 자미두수</button>
        <button type="button" data-mode="astro">◎ 점성술</button>
      </div>
      <p class="small" id="onboardingModeStatus">현재 관점: 사주</p>
      <label class="tiny-check"><input type="checkbox" id="hideOnboardingForever" /> 다시 보지 않기</label>
      <div class="cta-row">
        <button class="btn secondary" type="button" id="onboardingPreviewBtn">관점 미리보기</button>
        <button class="btn" type="button" id="onboardingStartBtn">바로 시작하기</button>
      </div>
    </div>
  </div>

  <div class="modal" id="adultGateModal" hidden>
    <div class="modal-card onboarding-modal">
      <h3>성인 인증이 필요해</h3>
      <p class="small">[19금] 카테고리는 만 19세 이상만 이용할 수 있어.</p>
      <div class="cta-row">
        <button class="btn secondary" type="button" id="adultGateCancel">취소</button>
        <button class="btn" type="button" id="adultGateConfirm">만 19세 이상입니다</button>
      </div>
    </div>
  </div>

  <div class="modal" id="loveStateModal" hidden>
    <div class="modal-card onboarding-modal">
      <h3>현재 연애 상태를 골라줘</h3>
      <div class="onboarding-chips" id="loveStateButtons">
        <button type="button" data-state="solo">완전한 솔로</button>
        <button type="button" data-state="crush">썸/짝사랑 중</button>
        <button type="button" data-state="dating">연애 중</button>
        <button type="button" data-state="reunion">이별/재회 고민</button>
      </div>
      <p class="small" id="loveStateHint">솔로면 본인 정보만, 나머지는 상대 정보도 입력해줘.</p>
      <div class="cta-row">
        <button class="btn secondary" type="button" id="loveStateCancel">취소</button>
      </div>
    </div>
  </div>

  <script src="/js/common.js?v=navclean1"></script>
  <script src="/js/index.js?v=modeflow19"></script>
</body>
</html>