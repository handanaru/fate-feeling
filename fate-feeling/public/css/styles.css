@import url('https://cdn.jsdelivr.net/npm/pretendard@latest/dist/web/static/pretendard.css');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Poppins:wght@500;700;800&family=Noto+Serif+KR:wght@500;700&display=swap');

:root {
  --font-body: 'Pretendard', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-point: 'Pretendard', 'Noto Sans KR', sans-serif;
  --font-number: 'Poppins', 'Montserrat', 'Pretendard', 'Noto Sans KR', sans-serif;
  --font-serif: 'Noto Serif KR', 'Nanum Myeongjo', serif;
  --bg: #1A1A2E;
  --bg-grad-start: #2D1B4B;
  --bg-grad-mid: #241d46;
  --bg-grad-end: #1A1A2E;
  --card: rgba(255, 252, 246, 0.9);
  --text: #1a1a2e;
  --muted: #5f5a72;
  --primary: #4B367C;
  --primary-2: #6d54a8;
  --gold: #d4af37;
  --primary-soft: #ede6f8;
  --border: rgba(75, 54, 124, 0.22);
  --shadow: 0 22px 46px rgba(26, 26, 46, 0.16);
}

[data-theme='dark'] {
  --bg: #141223;
  --bg-grad-start: #19152b;
  --bg-grad-mid: #231d3b;
  --bg-grad-end: #312956;
  --card: rgba(26, 26, 46, 0.82);
  --text: #f5edff;
  --muted: #cabbe2;
  --primary: #bfa8f3;
  --primary-2: #9f87db;
  --gold: #efcb64;
  --primary-soft: rgba(120, 96, 179, 0.3);
  --border: rgba(196, 173, 244, 0.28);
  --shadow: 0 24px 54px rgba(0, 0, 0, 0.45);
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: var(--font-body);
  background-color: #0A0B14;
  overflow-x: hidden;
  background-image:
    radial-gradient(circle at 0% 0%, rgba(18, 13, 38, 0.8) 0%, transparent 40%),
    radial-gradient(circle at 100% 100%, rgba(30, 20, 50, 0.5) 0%, transparent 40%);
  color: #E0E0E0;
  line-height: 1.6;
  min-height: 100vh;
  padding-bottom: 88px;
  animation: pageFade 0.55s ease;
  position: relative;
  -webkit-text-size-adjust: 100%;
}

.ff-starfield {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -2;
  opacity: .7;
}
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: none;
  z-index: -1;
}

.container {
  width: min(1060px, 94%);
  margin: 0 auto;
  padding: 18px 0 28px;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}
.header-actions {
  display: flex;
  gap: 8px;
  align-items: center;
}
.nav-mini-actions {
  display: inline-flex;
  gap: 8px;
  align-items: center;
}
.icon-btn {
  min-height: 38px;
  min-width: 38px;
  padding: 8px 10px;
  font-size: 18px;
  line-height: 1;
  display: inline-grid;
  place-items: center;
}
.icon-btn.outline {
  background: transparent;
  color: var(--text);
  border: 1px solid var(--border);
}
.theme-btn {
  font-size: 12px;
  min-height: 36px;
  padding: 8px 12px;
}

.brand {
  font-weight: 700;
  letter-spacing: .2px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: var(--text);
}
.brand-logo {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: inline-grid;
  place-items: center;
  border: 1px solid color-mix(in srgb, var(--gold) 74%, var(--primary));
  background: rgba(17, 24, 51, .22);
  position: relative;
  overflow: hidden;
}
.brand-logo::before {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: 50%;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(7px) saturate(118%);
  -webkit-backdrop-filter: blur(7px) saturate(118%);
}
.brand-logo::after {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: 50%;
  background: url('/assets/brand/cosmic-eye-exact.png') center/cover no-repeat;
}
.brand-logo .spark {
  display: none;
}
.brand-wordmark {
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
  font-family: "Cormorant Garamond", "Marcellus", "Times New Roman", serif;
  font-weight: 600;
  font-size: clamp(21px, 2.5vw, 27px);
  letter-spacing: .3px;
}
.brand-wordmark .amp {
  color: color-mix(in srgb, var(--gold) 72%, var(--text));
  font-style: italic;
}
.brand-extra { font-size: 15px; font-family: inherit; color: var(--muted); }
.brand:hover .brand-logo { animation: logoSparkle .8s ease; }

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 28px;
  padding: 18px;
  margin-bottom: 12px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(6px);
  animation: liftIn .45s ease;
}
.reveal-page .card,
.ziwei-report-page .card {
  padding: 32px 24px;
  margin-bottom: 40px;
}
.compact-card { padding: 14px; } 
.tight-grid { gap: 10px; }

h1,h2,h3 {
  margin: 0 0 10px;
  line-height: 1.3;
  font-family: var(--font-body);
  letter-spacing: .2px;
}
p { margin: 0 0 12px; color: var(--muted); }

button,.btn {
  border: 1px solid transparent;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  min-height: 44px;
  padding: 11px 17px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
  transition: transform .2s ease, opacity .2s ease;
}
button:hover,.btn:hover { transform: translateY(-1px); opacity: .95; }

.btn.secondary {
  background: var(--primary-soft);
  color: var(--text);
  border: 1px solid var(--border);
}

.grid { display: grid; gap: 14px; }
.grid.cards { grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); }

.nav { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
.nav a { font-size: 14px; color: var(--primary); text-decoration: none; }

.top-nav {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin: 0 0 14px;
}
.top-nav a,
.bottom-nav a {
  text-decoration: none;
  color: var(--text);
  font-size: 13px;
  border: 1px solid var(--border);
  background: var(--primary-soft);
  padding: 7px 11px;
  border-radius: 999px;
}
.top-nav a.active,
.bottom-nav a.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  border-color: transparent;
}
.bottom-nav {
  position: fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  overflow-x: auto;
  width: min(960px, 92%);
  padding: 9px 10px;
  border: 1px solid var(--border);
  border-radius: 999px;
  background: color-mix(in srgb, var(--card) 94%, transparent);
  box-shadow: var(--shadow);
  backdrop-filter: blur(8px);
  z-index: 100;
}

.ziwei-board-wrap {
  position: relative;
  margin: 20px auto;
  width: min(520px, 88vw);
  aspect-ratio: 1 / 1;
}
.ziwei-board {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 2px solid color-mix(in srgb, var(--gold) 80%, transparent);
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, 1fr);
  overflow: hidden;
  box-shadow: 0 0 50px rgba(212, 175, 55, 0.22);
  animation: spinBoard 18s linear infinite;
}
.palace {
  border: 1px solid color-mix(in srgb, var(--gold) 45%, var(--border));
  display: grid;
  place-items: center;
  font-weight: 700;
  color: color-mix(in srgb, var(--gold) 72%, var(--text));
  background: linear-gradient(140deg, rgba(87, 40, 143, 0.5), rgba(20, 11, 35, 0.4));
}
.ziwei-core {
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  width: 42%;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  border: 1px solid color-mix(in srgb, var(--gold) 75%, transparent);
  background: radial-gradient(circle at 35% 20%, rgba(255,255,255,0.5), rgba(110,65,183,0.6));
  display: grid;
  place-items: center;
  font-weight: 800;
}
.character-bubble {
  margin-top: 14px;
  padding: 14px;
  border-radius: 20px;
  border: 1px solid var(--border);
  background: linear-gradient(130deg, rgba(255,255,255,0.5), rgba(255,255,255,0.2));
}

.hanji-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}
.hanji-card {
  border-radius: 18px;
  padding: 16px;
  border: 1px solid rgba(121, 86, 178, 0.24);
  background: linear-gradient(160deg, rgba(250, 242, 224, 0.94), rgba(240, 227, 201, 0.9));
  box-shadow: 0 14px 28px rgba(74, 44, 126, 0.12);
  color: #4a3a2a;
}
[data-theme='dark'] .hanji-card {
  background: linear-gradient(160deg, rgba(91, 75, 56, 0.75), rgba(68, 54, 39, 0.7));
  color: #f9ecd3;
}
.keyword-row { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px; }
.keyword { padding: 5px 10px; border-radius: 999px; border: 1px solid rgba(164,116,37,.5); background: rgba(255,236,183,.46); font-size: 12px; }

.popup {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.42);
  display: grid;
  place-items: center;
  z-index: 101;
}
.popup[hidden] { display: none; }
.popup-card {
  width: min(460px, 90vw);
  border-radius: 20px;
  padding: 18px;
  border: 1px solid var(--border);
  background: var(--card);
  box-shadow: var(--shadow);
}

.hero-counseling { border: 1px solid color-mix(in srgb, var(--primary) 35%, var(--border)); }
.cta-row { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
.live-metrics {
  margin-top: 12px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.live-metrics span {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--primary-soft);
}

.two-track { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
.quick-actions .nav a {
  border: 1px solid var(--border);
  background: var(--primary-soft);
  padding: 8px 12px;
  border-radius: 999px;
}

.flow-row {
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  align-items: stretch;
  gap: 10px;
}
.flow-card { position: relative; min-height: 180px; }
.flow-icon { position: absolute; right: 16px; bottom: 12px; font-size: 28px; opacity: .75; }
.flow-arrow {
  align-self: center;
  font-size: 24px;
  color: var(--gold);
  font-weight: 700;
}

label { display: block; margin: 10px 0 6px; font-weight: 600; }
input, textarea, select {
  width: 100%;
  min-height: 48px;
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px 14px;
  background: rgba(255,255,255,.45);
  color: var(--text);
  font-size: 16px;
}
input[type="date"] {
  appearance: none;
  -webkit-appearance: none;
  min-height: 48px;
  line-height: 1.2;
  padding-top: 12px;
  padding-bottom: 12px;
}
input[type="date"]::-webkit-date-and-time-value {
  text-align: left;
}
#birthTime {
  font-size: 15px;
  text-overflow: ellipsis;
}
#birthTime:disabled {
  opacity: .6;
}
.tiny-check {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
  font-size: 13px;
  font-weight: 500;
}
.tiny-check input {
  width: 18px;
  height: 18px;
  min-height: auto;
  margin: 0;
}

.mode-picker { margin: 8px 0 14px; }
.mode-options { display: flex; gap: 8px; flex-wrap: wrap; }
.mode-btn {
  background: var(--primary-soft);
  color: var(--text);
  border: 1px solid var(--border);
}
.mode-btn.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
}
[data-theme='dark'] input,
[data-theme='dark'] textarea,
[data-theme='dark'] select { background: rgba(17, 10, 29, .7); }

.small { font-size: 13px; color: var(--muted); }
.badge {
  display: inline-block;
  padding: 5px 10px;
  border-radius: 999px;
  background: var(--primary-soft);
  color: var(--text);
  font-size: 12px;
  border: 1px solid var(--border);
}
.footer-note { margin-top: 16px; font-size: 13px; color: var(--muted); }

/* TEST */
.live-focus-page {
  background:
    radial-gradient(120% 120% at 20% -10%, rgba(126,105,204,.22) 0%, rgba(10,11,20,0) 50%),
    linear-gradient(160deg, #0A0B14 0%, #151126 58%, #1c1432 100%);
}
.live-focus-page::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: .12;
  background-image: radial-gradient(rgba(255,255,255,.6) .5px, transparent .8px);
  background-size: 3px 3px;
}
.progress-wrap { margin: 6px 0 16px; }
.progress-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  color: #ded3f8;
}
.progress-bar {
  height: 12px;
  background: rgba(255,255,255,.2);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 999px;
  overflow: hidden;
  box-shadow: inset 0 0 10px rgba(0,0,0,.25);
}
.progress-fill {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #8d6dff, #efcb64);
  box-shadow: 0 0 14px rgba(141,109,255,.45), 0 0 18px rgba(239,203,100,.35);
  transition: width .35s ease;
}

.question-card {
  border-radius: 24px;
  border: 1px solid rgba(255,255,255,.14);
  padding: 18px;
  background: linear-gradient(140deg, rgba(56,42,88,.34), rgba(24,16,40,.46));
}
[data-theme='dark'] .question-card {
  background: linear-gradient(140deg, rgba(98,76,148,.22), rgba(18,12,30,.5));
}
.options { display: grid; gap: 10px; margin-top: 12px; }
.option {
  border: 1px solid rgba(255,255,255,.22);
  border-radius: 16px;
  padding: 13px 12px;
  min-height: 50px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  align-items: center;
  cursor: pointer;
  transition: transform .18s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  background: rgba(255,255,255,.09);
}
.option::after {
  content: '›';
  color: rgba(255,255,255,.55);
  font-size: 16px;
}

/* Live test mobile density tuning */
.live-focus-page #testForm {
  padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 96px);
}
.live-focus-page .question-card {
  margin-top: 6px;
}
.live-focus-page .options {
  gap: 10px;
  margin-top: 10px;
}
.live-focus-page .option {
  padding: 11px 12px;
  min-height: 42px;
}
.live-focus-page .option input {
  transform: scale(.92);
  margin-right: 7px;
}
.live-focus-page .option[data-score="1"] { background: color-mix(in srgb, #8a7ca8 12%, transparent); }
.live-focus-page .option[data-score="2"] { background: color-mix(in srgb, #8a6db1 18%, transparent); }
.live-focus-page .option[data-score="3"] { background: color-mix(in srgb, #865fc0 24%, transparent); }
.live-focus-page .option[data-score="4"] { background: color-mix(in srgb, #8d4fd0 30%, transparent); }
.live-focus-page .option[data-score="5"] { background: color-mix(in srgb, #9a43df 36%, transparent); }
.live-focus-page .option.selected { box-shadow: 0 0 0 2px rgba(255, 219, 133, .45), 0 8px 18px rgba(156, 86, 225, .22); }
.question-nav-row { display: flex; justify-content: flex-start; margin-top: 10px; }
.question-nav-row .btn { min-height: 36px; padding: 8px 12px; }
.option.selected {
  border-color: rgba(255,235,167,.92);
  background: linear-gradient(135deg, rgba(239,203,100,.24), rgba(143,96,228,.22));
  box-shadow: 0 0 0 2px rgba(239,203,100,.25), 0 8px 18px rgba(143,96,228,.24);
  transform: scale(1.01);
}
.option.selected::after { color: #efcb64; }
[data-theme='dark'] .option { background: rgba(21,12,33,.72); }
.option:hover { transform: translateY(-1px); border-color: var(--gold); }
.option input { width: auto; margin-right: 0; }
.slide-out { animation: slideOut .25s ease forwards; }
.slide-in { animation: slideIn .3s ease; }

/* AI CHAT */
.chat-panel { display: flex; flex-direction: column; gap: 12px; min-height: 340px; max-height: 54vh; overflow-y: auto; }
.bubble {
  max-width: 82%;
  padding: 12px 14px;
  border-radius: 20px;
  border: 1px solid var(--border);
  animation: liftIn .3s ease;
}
.ai-intake-card .chat-panel .bubble {
  font-size: 16px;
  line-height: 1.65;
}
.bubble.user { align-self: flex-end; background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: #fff; }
.bubble.ai { align-self: flex-start; background: rgba(255,255,255,.5); }
[data-theme='dark'] .bubble.ai { background: rgba(23, 13, 38, .7); }
.loading-dots span { display: inline-block; animation: blink 1.2s infinite; }
.loading-dots span:nth-child(2) { animation-delay: .2s; }
.loading-dots span:nth-child(3) { animation-delay: .4s; }
.bubble-more {
  margin-top: 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--primary-soft);
  color: var(--text);
  font-size: 12px;
  padding: 6px 10px;
}
.ai-intake-card #situation {
  min-height: 96px;
  max-height: 128px;
  resize: vertical;
}
.goal-chip-row {
  margin-top: 8px;
  width: 100%;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.goal-chip {
  width: 100%;
  min-height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(15, 15, 22, .82);
  color: #dfe7ff;
  font-size: 12px;
  font-weight: 700;
  padding: 8px 10px;
  text-align: center;
}
.goal-chip.active {
  color: #ffd88d;
  border-color: rgba(255,216,141,.5);
  background: rgba(24, 20, 36, .9);
  box-shadow: inset 0 0 0 1px rgba(245,210,120,.45), inset 0 0 16px rgba(245,210,120,.12);
}
.ai-send-btn {
  background: linear-gradient(135deg, #f5d57a, #d89642, #9264ff) !important;
  color: #2a1800 !important;
  font-weight: 800;
}

/* EXPERT TAROT */
.tarot-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; }
.tarot-card {
  position: relative;
  min-height: 300px;
  border-radius: 24px;
  overflow: hidden;
  border: 1px solid rgba(212,175,55,.45);
  box-shadow: 0 20px 40px rgba(0,0,0,.18);
  transform-style: preserve-3d;
}
.tarot-back {
  position: absolute; inset: 0;
  padding: 18px;
  background: radial-gradient(circle at 30% 20%, rgba(212,175,55,.18), transparent 55%),
              linear-gradient(165deg, #2d1650, #1a0f2d);
  color: #f9f1ff;
  display: flex; flex-direction: column; justify-content: space-between;
  transition: transform .5s ease;
}
.tarot-back::before {
  content: '';
  position: absolute; inset: 12px;
  border: 1px solid rgba(212,175,55,.4);
  border-radius: 16px;
}
.tarot-front {
  position: absolute; inset: 0;
  padding: 18px;
  background: rgba(255,255,255,.96);
  color: #32254a;
  transform: translateY(100%);
  transition: transform .5s ease;
}
[data-theme='dark'] .tarot-front { background: rgba(30,20,46,.95); color: #efe7ff; }
.tarot-card:hover .tarot-back { transform: translateY(-100%); }
.tarot-card:hover .tarot-front { transform: translateY(0); }

/* COMMUNITY */
.feed-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 14px; }
.diary-card {
  border-radius: 24px;
  border: 1px solid var(--border);
  padding: 16px;
  background: linear-gradient(160deg, rgba(255,255,255,.55), rgba(255,255,255,.25));
  box-shadow: var(--shadow);
}
[data-theme='dark'] .diary-card { background: linear-gradient(160deg, rgba(160,126,232,.17), rgba(15,9,25,.56)); }
.empathy { font-size: 14px; color: var(--muted); margin-top: 10px; }
.tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
.tag {
  font-size: 12px;
  padding: 4px 9px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--primary-soft);
}

.chart-block { margin-top: 14px; }
.mini-bars { display:flex; gap:16px; align-items:flex-end; flex-wrap:wrap; }
.bar-item { min-width: 68px; text-align:center; }
.bar-value { font-weight:700; margin-bottom:6px; color: var(--muted); }
.bar-track {
  height: 120px;
  display:flex;
  align-items:flex-end;
  justify-content:center;
}
.bar-fill {
  width: 42px;
  background: #cfd3da;
  border-radius: 12px;
}
.bar-item.accent .bar-value { color: #e85d87; }
.bar-item.accent .bar-fill { background: #e85d87; }
.bar-label { margin-top: 8px; font-weight: 600; }

.counselor-list { display:grid; gap:10px; }
.counselor-row {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px;
}

.live-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(123, 255, 189, .5);
  background: rgba(57, 173, 115, .2);
  animation: livePulse 1.6s ease-in-out infinite;
}
.status-updated {
  margin: 8px 0 0;
  font-size: 11px;
  color: rgba(249,241,255,.75);
}
.expert-meta {
  margin-top: 8px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}
.expert-meta span {
  font-size: 12px;
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px 8px;
  background: rgba(255,255,255,.45);
}
.fixed-notice {
  position: sticky;
  top: 8px;
  z-index: 30;
  border-color: rgba(225, 97, 97, .35);
}
.fixed-notice ul { margin: 0; padding-left: 18px; color: var(--muted); }

.signal-card.t-type { border-color: rgba(92, 136, 241, .4); }
.signal-card.f-type { border-color: rgba(224, 107, 167, .36); }

.lucky-star-card {
  border-color: rgba(255, 205, 104, .55);
  box-shadow: 0 0 0 1px rgba(255,226,162,.45), var(--shadow);
}
.energy-chart {
  height: 130px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 6px;
  align-items: end;
}
.energy-bar {
  display: block;
  border-radius: 10px 10px 4px 4px;
  background: linear-gradient(180deg, #b493ff, #5f3f86);
}
.energy-bar.peak { background: linear-gradient(180deg, #ffd87d, #d4af37); }

.balance-game { margin-top: 14px; }
.balance-options { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }

@keyframes pageFade { from { opacity: 0; } to { opacity: 1; } }
@keyframes liftIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideOut {
  0% { opacity: 1; transform: translateX(0) scale(1); }
  100% { opacity: 0; transform: translateX(-28px) scale(.985); }
}
@keyframes slideIn {
  0% { opacity: 0; transform: translateX(34px) scale(.985); }
  100% { opacity: 1; transform: translateX(0) scale(1); }
}
@keyframes blink { 0%,80%,100%{opacity:.2;} 40%{opacity:1;} }
@keyframes spinBoard { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.intake-card { max-width: 760px; margin-left:auto; margin-right:auto; }
.intake-grid { display:grid; gap:10px; grid-template-columns: 1fr; }
.select-like { width:100%; text-align:left; background: rgba(255,255,255,.45); color: var(--text); border:1px solid var(--border); border-radius:16px; }
.full { grid-column: 1 / -1; }
.consent { display:flex; gap:8px; align-items:center; }

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: grid;
  place-items: center;
  z-index: 999;
}
.modal[hidden] { display: none; }
.modal-card {
  width: min(520px, 90vw);
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 24px;
  padding: 18px;
  box-shadow: var(--shadow);
  position: relative;
}
.modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  background: transparent;
  color: var(--text);
  border: none;
}
.onboarding-modal { max-width: 560px; }
.total-fortune-hero {
  width: 100%;
  border-radius: 18px;
  border: 1px solid rgba(255,235,167,.85);
  padding: 14px 14px 12px;
  text-align: left;
  background:
    radial-gradient(120% 120% at 20% 0%, rgba(238,198,110,.24), rgba(238,198,110,0) 55%),
    linear-gradient(140deg, rgba(33,20,58,.95), rgba(66,38,102,.88));
  box-shadow: 0 0 0 1px rgba(255,235,167,.24), 0 0 24px rgba(239,203,100,.35);
  position: relative;
  overflow: hidden;
  transform: translateY(0);
  transition: transform .24s ease, box-shadow .24s ease;
  animation: totalHeroFloat 3.6s ease-in-out infinite;
}
.total-fortune-hero:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 0 1px rgba(255,235,167,.28), 0 8px 28px rgba(239,203,100,.4);
}
.total-fortune-hero:active {
  transform: translateY(0) scale(.995);
}
.total-fortune-hero::after {
  content: '';
  position: absolute;
  inset: -20% -10%;
  background: conic-gradient(from 0deg, rgba(239,203,100,.0), rgba(239,203,100,.16), rgba(123,93,204,.08), rgba(239,203,100,.0));
  animation: heroFlowSpin 9s linear infinite;
  pointer-events: none;
}
.total-fortune-hero .badge {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 11px;
  background: linear-gradient(135deg, #f3d37a, #d7a53d);
  color: #2a1844;
  border: 0;
}
.total-fortune-hero strong,
.total-fortune-hero em,
.total-fortune-hero small { position: relative; z-index: 1; display: block; }
.total-fortune-hero strong {
  font-family: var(--font-serif);
  font-size: 20px;
  color: #f8edcf;
  margin-top: 8px;
}
.total-fortune-hero em {
  margin-top: 4px;
  font-style: normal;
  color: #d9ddf0;
  font-size: 13px;
}
.total-fortune-hero small {
  margin-top: 8px;
  color: rgba(244,230,189,.88);
  font-size: 11px;
}
.onboarding-divider {
  margin: 10px 0 6px !important;
  opacity: .86;
}
.audience-tabs {
  display: inline-flex;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.05);
  margin: 10px 0 8px;
}
.audience-tabs button {
  border: 0;
  border-radius: 999px;
  padding: 6px 10px;
  background: transparent;
  color: var(--muted);
  cursor: pointer;
  font-size: 12px;
}
.audience-tabs button.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
}
.dual-step-nav {
  display: inline-flex;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid rgba(239,203,100,.25);
  background: rgba(255,255,255,.05);
  margin: 8px 0 6px;
}
.dual-step-nav button {
  border: 0;
  border-radius: 999px;
  padding: 7px 12px;
  background: transparent;
  color: var(--muted);
  cursor: pointer;
  font-size: 12px;
}
.dual-step-nav button.active {
  background: linear-gradient(135deg, rgba(239,203,100,.9), rgba(172,124,55,.85));
  color: #1d122a;
  font-weight: 800;
}
.onboarding-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 10px 0 8px;
}
.onboarding-chips button {
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(212,175,55,.45);
  background: rgba(255,255,255,.08) !important;
  font-size: 13px;
  color: var(--text) !important;
  min-height: 0;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
#onboardingConcernButtons button {
  padding: 6px 8px;
  font-size: 12px;
}
.onboarding-chips button:active { transform: scale(.98); }
.onboarding-chips button.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2)) !important;
  color: #fff !important;
  border-color: rgba(255,235,167,.9);
  box-shadow: 0 0 0 1px rgba(255,235,167,.45), 0 0 16px rgba(239,203,100,.25);
}
.concern-grid { display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin: 10px 0 14px; }
.concern-grid-main {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin: 8px 0 10px;
}
.concern-grid-main button {
  border: 1px solid var(--border);
  background: rgba(255,255,255,.08);
  color: var(--text);
  border-radius: 14px;
  padding: 10px;
  font-size: 14px;
  cursor: pointer;
}
.concern-grid-main button.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  border-color: rgba(255,235,167,.9);
}
.sub-concern-wrap { margin: 8px 0 6px; }
.sub-concern-wrap[hidden] { display: none; }
.analysis-mode-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin: 8px 0 24px;
}
.analysis-mode-grid button {
  border: 1px solid var(--border);
  background: rgba(255,255,255,.08);
  color: var(--text);
  border-radius: 14px;
  padding: 10px;
  font-size: 14px;
  cursor: pointer;
  min-height: 42px;
}
.analysis-mode-grid button.active {
  background: linear-gradient(135deg, rgba(239,203,100,.22), rgba(167,116,46,.18));
  color: #f7f2df;
  border-color: rgba(255,235,167,.9);
  box-shadow: 0 0 0 1px rgba(255,235,167,.35), 0 0 14px rgba(239,203,100,.22);
}
.home-hero-banner {
  position: relative;
  overflow: hidden;
  border: 1px solid var(--border);
  background:
    radial-gradient(circle at 75% 18%, rgba(222,74,63,.28), transparent 38%),
    radial-gradient(circle at 20% 72%, rgba(120,84,215,.22), transparent 42%),
    linear-gradient(140deg, rgba(19,13,36,.96), rgba(41,22,74,.92));
  animation: heroFloat 8s ease-in-out infinite;
}
.hero-glow {
  position: absolute;
  width: 180px;
  height: 180px;
  right: -36px;
  top: -56px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(227,92,65,.45), rgba(227,92,65,0));
  filter: blur(6px);
  pointer-events: none;
}
.home-hero-banner h2 {
  margin: 6px 0 10px;
  line-height: 1.3;
  font-size: clamp(24px, 6vw, 32px);
  animation: fadeUp .55s ease both;
}
.home-hero-banner p { animation: fadeUp .7s ease both; }
.hero-eyebrow {
  font-size: 12px;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(255,255,255,.75);
}
.hero-cta {
  min-height: 50px;
  padding: 12px 16px;
  font-weight: 700;
  background: linear-gradient(135deg, #f6d37a, #f0ac4f);
  color: #2a1844;
  border: 1px solid rgba(255,255,255,.55);
}
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes heroFloat {
  0%,100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
@keyframes heroFlowSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes totalHeroFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-1.5px); }
}
.adult-entry-card {
  margin-top: 8px;
  border: 1px solid rgba(230, 112, 132, .45);
  background: linear-gradient(140deg, rgba(63,18,47,.32), rgba(34,14,42,.28));
  border-radius: 14px;
  padding: 10px;
}
.home-bottom-nav {
  position: fixed;
  left: 50%;
  bottom: 12px;
  transform: translateX(-50%);
  z-index: 80;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
  width: min(540px, calc(100% - 32px));
  padding: 8px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.16);
  border-top: 1px solid rgba(255,255,255,.34);
  background: rgba(255, 255, 255, 0.05);
  box-shadow: 0 -1px 6px rgba(255,255,255,.08), 0 18px 32px rgba(5, 4, 18, .48), inset 0 1px 0 rgba(255,255,255,.1);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  overflow: visible;
}
.home-bottom-nav a {
  text-decoration: none;
  color: rgba(255, 246, 220, .92);
  text-align: center;
  padding: 8px 6px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.08);
  font-size: 12px;
  text-shadow: 0 0 10px rgba(255, 216, 140, .25);
  display: grid;
  justify-items: center;
  gap: 3px;
}
.home-bottom-nav .ff-nav-icon {
  display: inline-block;
  will-change: transform;
}
.home-bottom-nav .ff-nav-icon.is-bounce,
.home-bottom-nav .ff-nav-fab-icon.is-bounce {
  animation: ffNavIconBounce .28s cubic-bezier(.2,.8,.2,1);
}
.home-bottom-nav a:hover {
  border-color: rgba(255, 216, 140, .45);
  color: #fff7dd;
}
.home-bottom-nav a[aria-current="page"] {
  color: #FFD700;
  border-color: rgba(255, 216, 140, .55);
  background: linear-gradient(135deg, rgba(255, 214, 132, .2), rgba(170, 130, 255, .16));
  box-shadow: 0 0 14px rgba(255, 214, 132, .22);
  transform: scale(1.06);
}
.ff-fan-wrap {
  position: relative;
  display: grid;
  place-items: center;
}
.ff-fan-menu {
  position: absolute;
  left: 50%;
  bottom: 44px;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  pointer-events: none;
}
.ff-fan-item {
  position: absolute;
  left: 0;
  bottom: 0;
  transform: translate(-50%, 10px) scale(.82);
  opacity: 0;
  text-decoration: none;
  color: #fff6df;
  display: grid;
  justify-items: center;
  gap: 5px;
  transition: transform .28s cubic-bezier(.2,.8,.2,1), opacity .22s ease;
}
.ff-fan-item em {
  font-style: normal;
  font-size: 10px;
  color: rgba(255,239,202,.9);
  text-shadow: 0 2px 10px rgba(0,0,0,.38);
}
.ff-fan-icon-shell {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  border: 1px solid color-mix(in srgb, var(--gold) 78%, var(--primary));
  background: rgba(17, 24, 51, .28);
  box-shadow: 0 8px 18px rgba(0,0,0,.34), inset 0 0 0 1px rgba(255,255,255,.18);
  position: relative;
  overflow: hidden;
  font-size: 17px;
  transition: transform .18s ease, box-shadow .18s ease;
}
.ff-fan-item:hover .ff-fan-icon-shell,
.ff-fan-item:focus-visible .ff-fan-icon-shell {
  transform: scale(1.1);
  box-shadow: 0 10px 20px rgba(0,0,0,.38), 0 0 14px rgba(255, 214, 132, .28), inset 0 0 0 1px rgba(255,255,255,.22);
}
.ff-fan-icon-shell::before {
  content: '';
  position: absolute;
  inset: 3px;
  border-radius: 50%;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(7px) saturate(118%);
  -webkit-backdrop-filter: blur(7px) saturate(118%);
}
.ff-fan-icon-shell::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: 50%;
  border: 1px solid rgba(255, 222, 156, .36);
}
.ff-fan-icon-shell i,
.ff-fan-icon-shell i::before,
.ff-fan-icon-shell i::after {
  content: '';
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: rgba(255, 236, 192, .82);
  box-shadow: 0 0 8px rgba(255, 221, 158, .55);
  animation: ffStarDustDrift 2.4s linear infinite;
  z-index: 0;
}
.ff-fan-icon-shell i {
  left: 10px;
  top: 12px;
}
.ff-fan-icon-shell i::before {
  left: 12px;
  top: 8px;
  animation-delay: .4s;
}
.ff-fan-icon-shell i::after {
  left: 18px;
  top: 16px;
  animation-delay: .8s;
}
.ff-fan-item:hover .ff-fan-icon-shell i,
.ff-fan-item:hover .ff-fan-icon-shell i::before,
.ff-fan-item:hover .ff-fan-icon-shell i::after,
.ff-fan-item:focus-visible .ff-fan-icon-shell i,
.ff-fan-item:focus-visible .ff-fan-icon-shell i::before,
.ff-fan-item:focus-visible .ff-fan-icon-shell i::after {
  animation-duration: 1.2s;
}
.ff-fan-icon-shell > * { position: relative; z-index: 1; }

.home-bottom-nav.is-fan-open .ff-fan-menu { pointer-events: auto; }
.home-bottom-nav.is-fan-open .ff-fan-item {
  opacity: 1;
  transform: translate(calc(-50% + var(--fan-x)), var(--fan-y)) scale(1);
  animation: ffFanRise .34s cubic-bezier(.18,.84,.24,1) both;
  animation-delay: calc(var(--fan-i, 0) * 0.1s);
}
.home-bottom-nav .ff-nav-fab {
  transform: translateY(-18px);
  border-radius: 999px;
  width: 64px;
  height: 64px;
  padding: 6px;
  margin: 0 auto -18px;
  border: 1px solid rgba(255, 216, 140, .78);
  background: linear-gradient(145deg, rgba(11,18,43,.95), rgba(21,32,70,.92));
  box-shadow: 0 12px 24px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,215,120,.25);
}
.home-bottom-nav .ff-nav-fab-icon {
  width: 33px;
  height: 33px;
  display: block;
  position: relative;
  transition: transform .16s ease;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}
.home-bottom-nav .ff-nav-fab-icon::before {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: 50%;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(6px) saturate(116%);
  -webkit-backdrop-filter: blur(6px) saturate(116%);
}
.home-bottom-nav .ff-nav-fab-icon::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url('/assets/brand/cosmic-eye-exact.png') center/120% no-repeat;
}
.home-bottom-nav .ff-nav-fab:active .ff-nav-fab-icon,
.home-bottom-nav .ff-nav-fab.is-tap .ff-nav-fab-icon {
  transform: scale(1.12);
}
.home-bottom-nav.is-fan-open .ff-nav-fab-icon {
  transform: scale(1.08) rotate(10deg);
}
.home-bottom-nav .ff-nav-fab span:last-child {
  font-size: 10px;
  line-height: 1;
  color: #ffdca0;
}
.first-impact-page { padding-bottom: 90px; }
.concern-item { background: var(--primary-soft); color: var(--text); border:1px solid var(--border); }
.concern-item.active { background: linear-gradient(135deg, var(--primary), var(--primary-2)); color:#fff; }

@media (max-width: 768px) {
  .flow-row { grid-template-columns: 1fr; }
  .flow-arrow { display: none; }
  .fortune-card-section { grid-template-columns: 1fr; }
}

@media (prefers-reduced-motion: reduce) {
  .total-fortune-hero,
  .total-fortune-hero::after {
    animation: none !important;
    transition: none !important;
  }
}

@media (max-width: 640px) {
  .container { padding-top: 16px; }
  .card { padding: 16px; border-radius: 24px; }
  .bubble { max-width: 92%; }
  .bottom-nav { bottom: 10px; width: 94%; }
  .ziwei-board-wrap { width: min(520px, 96vw); }
  .ziwei-core { width: 46%; }
  .ribbon-head { grid-template-columns: 1fr; }
  .ribbon-head .btn { width: 100%; }
  .perspective-grid { grid-template-columns: 1fr 1fr; }
  .tarot-layout { grid-template-columns: 1fr; }
  .fortune-card-section { grid-template-columns: 1fr; }
  .coach-bubbles { min-height: 150px; max-height: 220px; }
  .fortune-card-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .card-sfx-toggle { position: static; margin-bottom: 8px; }
  .balance-options { grid-template-columns: 1fr; }
  .analysis-mode-grid { grid-template-columns: 1fr 1fr; }
}

button,.btn,.option,.select-like,.concern-item { border-radius: 24px; }

.hero-claim {
  position: relative;
  overflow: hidden;
  border-radius: 28px;
  background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 92%, #000 8%), color-mix(in srgb, var(--primary-2) 82%, #fff 18%));
  color: #fff;
  border: 1px solid rgba(255,255,255,.22);
}
.hero-claim p { color: rgba(255,255,255,.92); margin: 0; font-weight: 600; }
.hero-main-slogan { font-size: clamp(22px, 3.4vw, 34px); line-height: 1.35; margin-bottom: 8px; }
.hero-sub-slogan { font-size: clamp(14px, 2vw, 17px); opacity: .92; }
.sub-copy { margin-top: 8px; }
.hero-claim::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(2px 2px at 12% 24%, rgba(255,255,255,.6), transparent 60%),
    radial-gradient(2px 2px at 82% 32%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(1.5px 1.5px at 58% 75%, rgba(255,255,255,.5), transparent 60%),
    radial-gradient(220px 120px at 80% -10%, rgba(255,255,255,.16), transparent 70%);
}

.card.patterned {
  position: relative;
  overflow: hidden;
}
.card.patterned::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(120deg, rgba(255,255,255,.14), transparent 40%);
}

.slide-out { animation: slideOut .36s cubic-bezier(.4,0,.2,1) forwards; }
.slide-in { animation: slideIn .42s cubic-bezier(.22,.61,.36,1); }

.result-overlay {
  position: fixed;
  inset: 0;
  background: rgba(17,10,29,.62);
  display: grid;
  place-items: center;
  z-index: 999;
}
.result-overlay[hidden] { display: none; }
.overlay-card {
  width: min(430px, 88vw);
  border-radius: 28px;
  border: 1px solid rgba(255,255,255,.18);
  background: linear-gradient(165deg, rgba(45,27,75,.95), rgba(25,15,41,.96));
  color: #f5ebff;
  text-align: center;
  padding: 24px;
}
.shuffle-row { margin-top: 14px; display: flex; justify-content: center; gap: 12px; }
.shuffle-icon { font-size: 22px; animation: shuffleUp 1.2s ease-in-out infinite; }
.shuffle-icon:nth-child(2) { animation-delay: .18s; }
.shuffle-icon:nth-child(3) { animation-delay: .36s; }

.ziwei-board-wrap::before,
.ziwei-board-wrap::after {
  content: '';
  position: absolute;
  inset: -4%;
  border-radius: 50%;
  border: 1px dashed color-mix(in srgb, var(--gold) 62%, transparent);
  animation: orbit 14s linear infinite;
}

.ribbon-wrap { padding: 0; overflow: hidden; }
.ribbon-head {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 12px 14px;
  background: linear-gradient(90deg, #2d1b4b, #5f3f86);
  color: #fff;
}
.ribbon-head h3 { margin: 0; font-size: 20px; }
.ribbon-tag {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.4);
}
.content-strip {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(180px, 1fr);
  gap: 12px;
  overflow-x: auto;
  padding: 14px;
}
.mini-content-card {
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 10px;
  background: var(--card);
}
.mini-content-card h4 { margin: 6px 0; font-size: 15px; }
.mini-content-card p { margin: 0; font-size: 12px; }
.viral-cta {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.viral-cta .btn,
.viral-cta button {
  font-size: 12px;
  padding: 8px 12px;
}
.mini-thumb {
  height: 84px;
  border-radius: 14px;
}
.mini-thumb.purple { background: radial-gradient(circle at 30% 20%, #b493ff, #2d1b4b); }
.mini-thumb.beige { background: linear-gradient(135deg, #efe3d0, #d8c3a5); }
.ziwei-board-wrap::after {
  inset: 8%;
  animation-direction: reverse;
  animation-duration: 10s;
}
.orbit-dot {
  position: absolute;
  width: 10px; height: 10px;
  border-radius: 50%;
  background: rgba(255,233,178,.88);
  box-shadow: 0 0 10px rgba(255,214,117,.78);
  animation: orbitDot 8s linear infinite;
}
.orbit-dot.dot-2 { animation-duration: 11s; animation-direction: reverse; }

.philosophy-hero {
  background:
    linear-gradient(155deg, rgba(250,242,224,.96), rgba(235,222,194,.92)),
    repeating-linear-gradient(12deg, rgba(73,54,33,.05) 0 2px, transparent 2px 6px);
  border-radius: 28px;
}
.philosophy-hero::after {
  content: '';
  display: block;
  height: 44px;
  margin-top: 8px;
  background: linear-gradient(90deg, rgba(44,30,16,.22), transparent 28%, rgba(44,30,16,.17) 60%, transparent);
  border-radius: 999px;
  opacity: .55;
}
.keyword { font-weight: 700; color: #5a401f; background: rgba(255,240,204,.9); }

.perspective-hub h1 { font-size: clamp(22px, 3vw, 32px); }
.perspective-grid {
  margin-top: 12px;
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}
.perspective-chip {
  text-decoration: none;
  color: #fff;
  border-radius: 18px;
  padding: 14px;
  font-weight: 700;
  text-align: center;
  box-shadow: 0 10px 24px rgba(33, 18, 56, .2);
}
.perspective-chip.saju { background: linear-gradient(130deg, #8e5b2a, #c69552); }
.perspective-chip.tarot { background: linear-gradient(130deg, #3f215a, #7c4ab2); }
.perspective-chip.astro { background: linear-gradient(130deg, #1c2f6f, #3d75e7); }
.perspective-chip.mbti { background: linear-gradient(130deg, #0d5560, #20a9a3); }
.perspective-chip.ziwei { background: linear-gradient(130deg, #5f3f86, #9f7adc); }
.perspective-chip.philosophy { background: linear-gradient(130deg, #7a5932, #b58754); }
.muted-intake { opacity: .92; }

.saju-hero {
  background: linear-gradient(160deg, rgba(245,236,217,.95), rgba(231,214,182,.92));
  border-color: rgba(129, 97, 58, .35);
}
.saju-panel {
  background: linear-gradient(160deg, rgba(249, 242, 227, .95), rgba(241, 228, 199, .86));
  border-color: rgba(136, 102, 54, .28);
}
.saju-flow { display: flex; gap: 8px; flex-wrap: wrap; }
.saju-flow span {
  border: 1px solid rgba(129,97,58,.4);
  background: rgba(255,244,213,.86);
  color: #6c4b22;
  border-radius: 999px;
  padding: 5px 10px;
  font-size: 12px;
}
.hanji-note {
  background: repeating-linear-gradient(0deg, rgba(95,65,27,.06) 0 2px, transparent 2px 4px);
  border-radius: 12px;
  padding: 10px;
  color: #674a2a;
}

.tarot-hero { background: linear-gradient(130deg, rgba(58, 28, 84, .95), rgba(104, 52, 143, .86)); }
.tarot-hero h1, .tarot-hero p { color: #f8ecff; }
.tarot-layout {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.deck-card {
  min-height: 180px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  font-weight: 800;
  letter-spacing: .5px;
  margin-bottom: 10px;
  border: 1px solid rgba(212,175,55,.5);
}
.deck-card.major { background: radial-gradient(circle at 30% 20%, #5f3f86, #241338); color: #fff; }
.deck-card.relation { background: radial-gradient(circle at 30% 20%, #7a3d72, #2a1530); color: #fff; }
.deck-card.action { background: radial-gradient(circle at 30% 20%, #5f5b9f, #1f2243); color: #fff; }

.fortune-card-section {
  position: relative;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(260px, 330px);
  gap: 14px;
  align-items: start;
  margin-bottom: 14px;
}
.card-sfx-toggle {
  position: absolute;
  top: -52px;
  right: 0;
  font-size: 12px;
  padding: 8px 12px;
}
.fortune-card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}
.fortune-card {
  border: 0;
  padding: 0;
  background: transparent;
  text-align: left;
  cursor: pointer;
  perspective: 1200px;
  min-width: 0;
}
.fortune-card-inner {
  position: relative;
  display: block;
  width: 100%;
  aspect-ratio: 1 / 1.7;
  border-radius: 14px;
  transform-style: preserve-3d;
  transition: transform .65s cubic-bezier(.22,.61,.36,1), filter .25s ease;
  box-shadow: 0 16px 30px rgba(10, 6, 18, 0.3);
}
.fortune-card:hover .fortune-card-inner,
.fortune-card:focus-visible .fortune-card-inner,
.fortune-card.flipped .fortune-card-inner {
  transform: translateY(-8px);
  filter: drop-shadow(0 0 16px rgba(184, 136, 255, 0.45));
}
.fortune-card.flipped .fortune-card-inner { transform: rotateY(180deg) translateY(-6px); animation: cardPaperFlip .7s ease; }
.card-face {
  position: absolute;
  inset: 0;
  border-radius: 14px;
  padding: 14px;
  border: 1px solid rgba(212,175,55,.38);
  backface-visibility: hidden;
  overflow: hidden;
}
.card-back {
  background:
    radial-gradient(circle at 20% 16%, rgba(255,255,255,.24), transparent 44%),
    repeating-linear-gradient(45deg, rgba(255,255,255,.05) 0 2px, transparent 2px 12px),
    repeating-linear-gradient(0deg, rgba(235,220,188,.08) 0 1px, transparent 1px 4px),
    linear-gradient(165deg, #1b1431, #33235b 42%, #120b24);
}
.card-back::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 14px;
  pointer-events: none;
  background: radial-gradient(circle at 65% 30%, rgba(245,226,194,.12), transparent 38%);
  mix-blend-mode: screen;
}
.card-back::before {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: 10px;
  border: 1px solid rgba(212,175,55,.42);
  background:
    radial-gradient(2px 2px at 20% 20%, rgba(255,255,255,.62), transparent 60%),
    radial-gradient(2px 2px at 74% 28%, rgba(255,255,255,.5), transparent 60%),
    radial-gradient(2px 2px at 40% 80%, rgba(255,255,255,.55), transparent 60%);
}
.card-front {
  transform: rotateY(180deg);
  display: flex;
  flex-direction: column;
  justify-content: end;
  gap: 8px;
  color: #fff;
  background:
    radial-gradient(120px 80px at 70% 20%, rgba(255,255,255,.16), transparent 60%),
    repeating-linear-gradient(45deg, rgba(255,255,255,.04) 0 1px, transparent 1px 3px),
    linear-gradient(160deg, #3c245f, #1c102f);
}
.card-front::before {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.24);
  pointer-events: none;
}
.card-front strong { font-size: 19px; letter-spacing: .2px; text-rendering: geometricPrecision; }
.card-front small { opacity: .95; line-height: 1.4; text-rendering: geometricPrecision; }

.fortune-card-section[data-card-theme='ziwei'] .card-back {
  background:
    radial-gradient(circle at 30% 12%, rgba(189,153,255,.35), transparent 42%),
    linear-gradient(145deg, #29134d, #3f1e68 48%, #1a102f);
}
.fortune-card-section[data-card-theme='ziwei'] .card-back::before {
  border-color: rgba(193,164,255,.5);
  background:
    linear-gradient(35deg, transparent 48%, rgba(196,168,255,.45) 49% 51%, transparent 52%),
    linear-gradient(-35deg, transparent 48%, rgba(196,168,255,.4) 49% 51%, transparent 52%),
    radial-gradient(2px 2px at 20% 20%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(2px 2px at 74% 28%, rgba(255,255,255,.5), transparent 60%);
}
.fortune-card-section[data-card-theme='ziwei'] .card-front { background: linear-gradient(160deg, #4b1b78, #1f1234); }

.fortune-card-section[data-card-theme='philosophy'] .card-back {
  background:
    repeating-linear-gradient(0deg, rgba(102,71,33,.08) 0 2px, transparent 2px 6px),
    linear-gradient(155deg, #f1ddbc, #e6cfa8 45%, #d9bf91);
}
.fortune-card-section[data-card-theme='philosophy'] .card-back::before {
  border-color: rgba(124,84,37,.38);
  background:
    linear-gradient(125deg, transparent 0 35%, rgba(78,56,30,.13) 36% 40%, transparent 41%),
    radial-gradient(100px 40px at 50% 105%, rgba(93,66,34,.16), transparent 70%);
}
.fortune-card-section[data-card-theme='philosophy'] .card-front {
  color: #fef7e7;
  background: linear-gradient(165deg, #8b6032, #5f3e21 52%, #3f2b1a);
}

.coach-panel {
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 12px;
  background: linear-gradient(145deg, rgba(255,255,255,.34), rgba(255,255,255,.12));
}
.coach-panel h3 { margin: 0 0 8px; display: flex; align-items: center; justify-content: space-between; }
.coach-expression {
  font-size: 20px;
  margin-left: 8px;
  transition: transform .2s ease;
}
.coach-expression.typing { animation: moodBounce .45s ease-in-out infinite alternate; }
.coach-expression.done { transform: scale(1.16); }
.coach-bubbles {
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 220px;
  max-height: 420px;
  overflow: auto;
}
.bubble.typing::after {
  content: '▋';
  animation: blink 1s infinite;
  margin-left: 2px;
}

.astro-hero { background: linear-gradient(130deg, rgba(21,34,84,.92), rgba(33,82,169,.85)); }
.astro-hero h1, .astro-hero p { color: #eff4ff; }
.astro-orbit {
  position: relative;
  width: min(460px, 88vw);
  aspect-ratio: 1 / 1;
  margin: 0 auto;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(38,54,115,.38), rgba(10,16,38,.2));
}
.orbit {
  position: absolute;
  inset: 12%;
  border: 1px solid rgba(179,208,255,.42);
  border-radius: 50%;
}
.orbit.ring-2 { inset: 24%; border-style: dashed; }
.planet {
  position: absolute;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: rgba(242,248,255,.9);
  color: #22346f;
  font-weight: 700;
}
.p1 { top: 8%; left: 50%; transform: translateX(-50%); }
.p2 { right: 18%; bottom: 18%; }
.p3 { left: 18%; bottom: 20%; }
.center-sign {
  position: absolute;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  width: 84px;
  height: 84px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 32px;
  background: rgba(255,255,255,.88);
  color: #24387b;
  border: 1px solid rgba(150,186,255,.6);
}

.mbti-hero { background: linear-gradient(130deg, rgba(14,83,93,.93), rgba(20,141,133,.84)); }
.mbti-hero h1, .mbti-hero p { color: #e8fffb; }
.mbti-matrix {
  display: grid;
  grid-template-columns: 120px 1fr 1fr;
  gap: 1px;
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
}
.mbti-matrix .cell {
  background: rgba(255,255,255,.52);
  padding: 10px;
  font-size: 14px;
}
[data-theme='dark'] .mbti-matrix .cell { background: rgba(18,30,42,.68); }
.mbti-matrix .cell.head { font-weight: 700; background: rgba(131,199,193,.35); }
.convo-card.soft { border-color: rgba(84,167,163,.45); }
.convo-card.strong { border-color: rgba(100,126,215,.45); }
.convo-card.mix { border-color: rgba(130,98,194,.45); }

@keyframes shuffleUp {
  0%,100% { transform: translateY(0) rotate(0); opacity: .68; }
  50% { transform: translateY(-10px) rotate(8deg); opacity: 1; }
}
@keyframes orbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes orbitDot {
  from { transform: rotate(0deg) translateX(230px) rotate(0deg); }
  to { transform: rotate(360deg) translateX(230px) rotate(-360deg); }
}
@keyframes cardPaperFlip {
  0% { filter: saturate(1); }
  45% { filter: saturate(1.15) brightness(1.08); }
  100% { filter: saturate(1); }
}
@keyframes moodBounce {
  from { transform: translateY(0) scale(1); }
  to { transform: translateY(-2px) scale(1.08); }
}
@keyframes livePulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(107, 248, 171, .15); }
  50% { box-shadow: 0 0 0 6px rgba(107, 248, 171, .02); }
}
@keyframes logoSparkle {
  0% { transform: scale(1); filter: brightness(1); }
  40% { transform: scale(1.07); filter: brightness(1.25); }
  100% { transform: scale(1); filter: brightness(1); }
}
@keyframes ffNavIconBounce {
  0% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}
@keyframes ffFanRise {
  0% {
    opacity: 0;
    transform: translate(-50%, 14px) scale(.76);
  }
  100% {
    opacity: 1;
    transform: translate(calc(-50% + var(--fan-x)), var(--fan-y)) scale(1);
  }
}
@keyframes ffStarDustDrift {
  0% { transform: translate(0, 0) scale(.9); opacity: .45; }
  50% { transform: translate(4px, -5px) scale(1.1); opacity: .95; }
  100% { transform: translate(8px, -10px) scale(.8); opacity: .3; }
}
@keyframes ctaPulse {
  0%, 100% { transform: translateY(0) scale(1); box-shadow: 0 8px 20px rgba(27, 80, 172, .25); }
  50% { transform: translateY(-1px) scale(1.012); box-shadow: 0 12px 26px rgba(70, 125, 231, .35); }
}
@keyframes ctaShine {
  0% { left: -55%; opacity: 0; }
  12% { opacity: .95; }
  36% { left: 118%; opacity: 0; }
  100% { left: 118%; opacity: 0; }
}
@keyframes seongunCaretBlink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.ff-toast {
  position: fixed;
  left: 50%;
  bottom: 88px;
  transform: translateX(-50%) translateY(12px);
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--card) 92%, var(--primary-soft));
  color: var(--text);
  padding: 10px 14px;
  font-size: 13px;
  box-shadow: var(--shadow);
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease, transform .2s ease;
  z-index: 1000;
}
.ff-toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

:root { --radius-md: 20px; }
.card,
.popup-card,
.modal-card,
.diary-card,
.counselor-row,
.coach-panel,
.mini-content-card,
.question-card,
.option,
.card-face,
.deck-card,
input,
textarea,
select,
.select-like,
.concern-item,
.top-nav a,
.bottom-nav a,
.badge,
.tag,
.keyword,
.live-badge,
.hanji-card,
.bubble,
.tarot-card,
.tarot-back::before,
.mini-thumb,
.bar-fill,
.mbti-matrix,
.fortune-card-inner,
.card-back::before,
.card-front::before,
.center-sign,
.convo-card,
.expert-meta span { border-radius: var(--radius-md); }

.intake-step { border: none; padding: 0; margin: 0; display: none; }
.intake-step.active { display: block; }
.intake-step legend { font-size: 14px; color: var(--muted); margin-bottom: 6px; }
.step-progress {
  display: flex; align-items: center; gap: 8px;
  padding: 10px 14px; border-radius: 999px;
  background: rgba(255,255,255,.18); border: 1px solid var(--border);
}
.step-dot {
  width: 28px; height: 28px; border-radius: 50%; display: grid; place-items: center;
  border: 1px solid var(--border); color: var(--muted); font-size: 13px;
}
.step-dot.active { background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: #fff; border-color: transparent; }
.step-line { width: 18px; height: 1px; background: var(--border); }
.step-actions { display: flex; gap: 8px; justify-content: flex-end; }
.intake-review { background: rgba(255,255,255,.3); }
.field-help {
  display: inline-flex; position: relative; margin-left: 6px; font-size: 12px;
  width: 18px; height: 18px; border-radius: 50%; align-items: center; justify-content: center;
  border: 1px solid var(--border); cursor: help;
}
.tooltip {
  position: absolute; left: 24px; top: -4px; width: 240px; padding: 8px 10px;
  border-radius: 14px; background: #1d1734; color: #fff; font-size: 12px; line-height: 1.45;
  opacity: 0; transform: translateY(4px); pointer-events: none; transition: .2s ease; z-index: 20;
}
.field-help:hover .tooltip,
.field-help:focus .tooltip { opacity: 1; transform: translateY(0); }

.fortune-card-section { display: block; }
.fortune-card-grid {
  display: grid; grid-auto-flow: column; grid-auto-columns: minmax(170px, 240px);
  gap: 14px; overflow-x: auto; padding: 8px 6px 18px; scroll-snap-type: x mandatory;
}
.fortune-card { scroll-snap-align: center; transition: transform .3s ease, filter .3s ease; }
.fortune-card.is-focus { transform: scale(1.06); filter: drop-shadow(0 0 16px rgba(206, 165, 255, .45)); }
.fortune-card-inner, .card-face { border-radius: 22px; }

.result-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 8px 0 12px; }
.metric-chip { border: 1px solid var(--border); background: rgba(255,255,255,.35); padding: 10px; border-radius: 20px; }
.metric-chip strong { display: block; }
.timeline-card { border: 1px solid var(--border); }
.quick-share-card { border: 1px solid var(--border); }
.fortune-score-head { margin: 10px 0 6px; font-size: 16px; }
.fortune-score-head strong { color: var(--gold); font-size: 20px; }
.weather-hero.hero-compat { background: linear-gradient(135deg, rgba(177,65,111,.2), rgba(93,53,170,.22)); }
.weather-hero.hero-marriage { background: linear-gradient(135deg, rgba(207,122,156,.18), rgba(121,74,164,.22)); }
.weather-hero.hero-money { background: linear-gradient(135deg, rgba(230,178,71,.2), rgba(78,52,130,.2)); }
.weather-hero.hero-career { background: linear-gradient(135deg, rgba(86,131,220,.22), rgba(58,87,156,.2)); }
.weather-hero.hero-adult { background: linear-gradient(135deg, rgba(153,48,77,.26), rgba(74,20,64,.24)); }
.weather-hero.hero-love { background: linear-gradient(135deg, rgba(203,84,132,.24), rgba(105,59,168,.22)); }
.fortune-score-bar { width: 100%; height: 10px; border-radius: 999px; background: rgba(255,255,255,.18); overflow: hidden; margin-bottom: 24px; }
.fortune-score-bar span { display: block; height: 100%; background: linear-gradient(90deg, #f4cd72, #e98f45); }
.hero-chip-row {
  display: flex;
  gap: 12px;
  row-gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 16px;
  margin-bottom: 14px;
}
.hero-chip {
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(6,8,16,.42);
  backdrop-filter: blur(4px);
  font-size: 12px;
}
.timeline-summary { margin: 6px 0 10px; color: var(--muted); font-size: 13px; }
.timeline-tabs { display: flex; gap: 6px; padding: 4px; border-radius: 999px; border: 1px solid var(--border); background: rgba(255,255,255,.05); margin-bottom: 10px; position: sticky; top: 8px; z-index: 4; }
.timeline-tabs button { flex: 1; border: 0; border-radius: 999px; padding: 7px 10px; background: rgba(255,255,255,.08); color: var(--muted); cursor: pointer; font-size: 12px; opacity: .62; }
.timeline-tabs button.active { background: linear-gradient(135deg, #e8c46f, #dba54b); color: #1f1235; font-weight: 700; opacity: 1; }
.timeline-hash { font-weight: 700; margin: 6px 0 8px; }
.monthly-bars { display: grid; grid-template-columns: repeat(12, minmax(0, 1fr)); gap: 6px; align-items: end; height: 120px; margin: 10px 0 8px; }
.monthly-bars .mbar { display: grid; gap: 4px; justify-items: center; align-content: end; }
.monthly-bars .mbar span {
  display: block;
  width: 100%;
  border-radius: 8px;
  background: linear-gradient(180deg, rgba(242,208,122,.95), rgba(128,84,218,.95));
  min-height: 10px;
  transform-origin: bottom;
  animation: barGrow .45s ease both;
  animation-delay: calc(var(--i, 0) * 35ms);
}
.monthly-bars .mbar em { font-style: normal; font-size: 10px; color: var(--muted); }
@keyframes barGrow {
  from { transform: scaleY(0.1); opacity: .35; }
  to { transform: scaleY(1); opacity: 1; }
}
.timeline-panel.fade-in { animation: slideInX .28s ease; }
.timeline-panel.tone-past { background: linear-gradient(165deg, rgba(85,109,163,.16), rgba(79,96,132,.08)); padding: 10px; border-radius: 14px; }
.timeline-panel.tone-now { background: linear-gradient(165deg, rgba(238,172,82,.14), rgba(161,86,41,.08)); padding: 10px; border-radius: 14px; }
.timeline-panel.tone-future { background: linear-gradient(165deg, rgba(96,164,124,.14), rgba(52,101,87,.08)); padding: 10px; border-radius: 14px; }
.timeline-tip { margin-top: 6px; }
.grade-card, .social-share-card { border: 1px solid var(--border); }
/* grade card override removed */
.grade-emblem {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border-radius: 999px;
  padding: 8px 12px;
  border: 1px solid color-mix(in srgb, var(--grade-color) 65%, #fff);
  background: color-mix(in srgb, var(--grade-color) 20%, transparent);
}
.grade-emblem strong { font-size: 22px; color: var(--grade-color); }
.grade-label { margin: 8px 0 4px; }
.grade-tip-inline {
  margin-top: 8px;
  color: #cfd3df;
}
.five-elements-card { border: 1px solid var(--border); }
.five-wrap {
  display: grid;
  place-items: center;
  margin: 8px 0;
  padding: 12px;
  border-radius: 18px;
  background: radial-gradient(circle, #3a2b5a 0%, #1a152d 100%);
  box-shadow: inset 0 0 28px rgba(132, 110, 196, .22), 0 12px 26px rgba(8, 8, 18, .35);
}
.five-radar {
  width: min(280px, 92%);
  height: auto;
  animation: radarFadeIn .7s ease both;
}
.radar-grid { fill: none; stroke: rgba(129, 230, 217, 0.3); stroke-width: 1; }
.radar-self {
  fill: rgba(147, 197, 253, .22);
  stroke: rgba(147, 197, 253, .95);
  stroke-width: 2.1;
  filter: drop-shadow(0 0 10px rgba(147,197,253,.55));
  transform-origin: 110px 110px;
  animation: radarGrow .7s ease both;
}
.radar-partner {
  fill: rgba(244, 114, 182, .20);
  stroke: rgba(244, 114, 182, .88);
  stroke-dasharray: 5 4;
  stroke-width: 1.9;
  filter: drop-shadow(0 0 10px rgba(244,114,182,.45));
  transform-origin: 110px 110px;
  animation: radarGrow .7s ease .1s both;
}
.radar-point { animation: radarPointPop .45s ease both, starPulse 2.2s ease-in-out infinite; }
.radar-point.partner { opacity: .85; }
.radar-point.wood { fill: #4ADE80; filter: drop-shadow(0 0 7px rgba(74,222,128,.9)); }
.radar-point.fire { fill: #FB7185; filter: drop-shadow(0 0 7px rgba(251,113,133,.9)); }
.radar-point.earth { fill: #FDE047; filter: drop-shadow(0 0 7px rgba(253,224,71,.9)); }
.radar-point.metal { fill: #F8FAFC; filter: drop-shadow(0 0 7px rgba(248,250,252,.9)); }
.radar-point.water { fill: #38BDF8; filter: drop-shadow(0 0 7px rgba(56,189,248,.9)); }
.radar-axis-label {
  font-size: 13px;
  font-weight: 700;
  font-family: var(--font-serif);
  paint-order: stroke;
  stroke: rgba(10,11,20,.88);
  stroke-width: 2.4px;
  letter-spacing: .02em;
}
.radar-axis-label.wood,
.radar-axis-label.fire,
.radar-axis-label.earth,
.radar-axis-label.metal,
.radar-axis-label.water { fill: #f6d783; }
.five-legend { margin-top: 6px; font-size: 13px; color: #cfd3df; }
.dot { display: inline-block; width: 9px; height: 9px; border-radius: 2px; margin: 0 4px 0 8px; }
.dot.self { background: rgba(74,222,128,.95); }
.dot.partner { background: rgba(248,250,252,.92); }
.five-line { margin-top: 6px; }
@keyframes radarGrow {
  from { transform: scale(.2); opacity: .2; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes radarFadeIn {
  from { opacity: 0; transform: scale(.94); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes radarPointPop {
  from { transform: scale(.4); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes starPulse {
  0%, 100% { filter: drop-shadow(0 0 5px rgba(255,255,255,.65)); }
  50% { filter: drop-shadow(0 0 12px rgba(255,255,255,.95)); }
}
.lucky-guide-card { border: 1px solid var(--border); }
.lucky-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; margin-top: 8px; }
.lucky-item { border: 1px solid var(--border); border-radius: 14px; padding: 10px; background: rgba(255,255,255,.08); }
.lucky-item h4 { margin: 0 0 6px; font-size: 13px; color: var(--muted); }
.lucky-color { margin-top: 8px; }
.lucky-guide-card { border: 0; }
.lucky-commerce-slider {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(260px, 80%);
  gap: 12px;
  overflow-x: auto;
  padding: 4px 2px 8px;
  scroll-snap-type: x mandatory;
}
.lucky-slide-card {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  min-height: 260px;
  scroll-snap-align: start;
  box-shadow: 0 0 22px rgba(138, 112, 210, .18);
  animation: luckyStagger .5s ease both;
}
.lucky-slide-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.slide-overlay {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 12px;
  background: linear-gradient(180deg, rgba(10,10,20,.04), rgba(10,10,20,.82));
}
.slide-overlay strong { display: block; margin: 4px 0; color: #f7f9ff; }
.slide-overlay p { margin: 0 0 8px; color: #dde2f0; font-size: 13px; line-height: 1.55; }
.lucky-cta-btn {
  display: inline-flex;
  text-decoration: none;
  border-radius: 999px;
  padding: 9px 13px;
  font-weight: 700;
  color: #241400;
  background: linear-gradient(135deg, #f3d37a, #d7a53d, #8e6dff);
  box-shadow: 0 0 14px rgba(243,211,122,.45);
  transition: transform .2s ease;
}
.lucky-cta-btn:hover { transform: translateY(-1px); }
.lucky-cta-btn.alt { color: #161a24; background: linear-gradient(135deg, #d9deec, #bfc7df, #9f8de0); }
.lucky-footer-row {
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.lucky-color-badge {
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  padding: 7px 12px;
  background: rgba(255,255,255,.05);
  color: #e6ebf7;
  font-size: 12px;
}
.lucky-branding {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #b9c2da;
}
.lucky-branding img { width: 44px; height: 44px; border-radius: 8px; border: 1px solid rgba(255,255,255,.18); }
.lucky-branding small { font-size: 11px; }
.lucky-commerce-slider.wood .lucky-slide-card { box-shadow: 0 0 22px rgba(74,222,128,.22); }
.lucky-commerce-slider.fire .lucky-slide-card { box-shadow: 0 0 22px rgba(251,113,133,.22); }
.lucky-commerce-slider.earth .lucky-slide-card { box-shadow: 0 0 22px rgba(253,224,71,.22); }
.lucky-commerce-slider.metal .lucky-slide-card { box-shadow: 0 0 22px rgba(248,250,252,.22); }
.lucky-commerce-slider.water .lucky-slide-card { box-shadow: 0 0 22px rgba(56,189,248,.22); }
.stagger-1 { animation-delay: .06s; }
.stagger-2 { animation-delay: .16s; }
@keyframes luckyStagger {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.section-badge {
  display: inline-grid;
  place-items: center;
  width: 24px;
  height: 24px;
  margin-right: 6px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  color: #fff;
  background: linear-gradient(135deg, #7a57d8, #3d5fc9);
  border: 1px solid rgba(255,255,255,.28);
  box-shadow: 0 0 12px rgba(122,87,216,.45);
  vertical-align: middle;
}
.reveal-page h3 .section-badge { transform: translateY(-1px); }
@media (max-width: 640px) {
  .section-badge { width: 22px; height: 22px; font-size: 11px; margin-right: 5px; }
}
.compat-keyword-block {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,.12);
}
.compat-keyword-block h4 {
  margin: 0 0 8px;
  color: #f3f4f8;
  font-size: 15px;
}
.compat-keyword-row { display: flex; flex-wrap: wrap; gap: 8px; margin: 8px 0 8px; }
.compat-keyword-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border-radius: 999px;
  padding: 7px 11px;
  font-weight: 700;
  letter-spacing: .01em;
  border: 1px solid rgba(255,255,255,.1);
  box-shadow: 0 0 12px rgba(0,0,0,.16);
}
.compat-keyword-tag.good {
  background: rgba(85, 138, 110, 0.16);
  border-color: rgba(160, 206, 181, 0.32);
  color: #b9e0ce;
}
.compat-keyword-tag.warn {
  background: rgba(138, 112, 85, 0.16);
  border-color: rgba(212, 183, 149, 0.32);
  color: #e7d2b6;
}
.compat-keyword-tag:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
#mindKeywordCard {
  background: linear-gradient(160deg, rgba(31, 18, 56, .82), rgba(50, 28, 85, .76));
  border: 1px solid rgba(255,255,255,.14);
}
#mindKeywordCard h3,
#mindKeywordCard .small,
#mindKeywordCard p { color: #E0E0E0; }
#mindKeywordCard .small { opacity: .92; }
@media (max-width: 640px) {
  .lucky-grid { grid-template-columns: 1fr; }
  .lucky-commerce-slider { grid-auto-columns: minmax(240px, 88%); }
  .lucky-footer-row { flex-direction: column; align-items: flex-start; }
}
.kakao-share {
  flex: 1;
  min-width: 0;
  background: #FEE500;
  color: #3C1E1E;
  border: 1px solid #f2d400;
  font-weight: 700;
  min-height: 40px;
  padding: 9px 12px;
  border-radius: 14px;
}
.instagram-share {
  flex: 1;
  min-width: 0;
  min-height: 40px;
  padding: 9px 12px;
  border-radius: 14px;
  background: linear-gradient(135deg, #6a3cf2, #d94aa5);
  border: 1px solid rgba(255,255,255,.2);
  color: #fff;
  font-weight: 700;
}
#socialShareBox .cta-row { gap: 10px; }
#socialShareBox .btn.secondary {
  min-height: 38px;
  padding: 8px 13px;
  border-radius: 12px;
}
@media (max-width: 640px) {
  #socialShareBox .cta-row .kakao-share,
  #socialShareBox .cta-row .instagram-share {
    width: 100%;
    flex-basis: 100%;
  }
}
.counselor-row {
  background: linear-gradient(160deg, rgba(58,58,72,.32), rgba(32,32,45,.28));
  border-color: rgba(255,255,255,.16);
}
.counselor-row .btn {
  background: linear-gradient(135deg, rgba(131,100,214,.88), rgba(183,147,76,.78));
  border: 1px solid rgba(255,255,255,.24);
  color: #f5f7ff;
  min-width: 88px;
  white-space: nowrap;
  word-break: keep-all;
  line-height: 1.15;
  flex-shrink: 0;
}
.counselor-row .btn .btn-stack { display: none; }
.counselor-row .btn .btn-inline { display: inline; }
@media (max-width: 430px) {
  .counselor-row .btn {
    min-width: 76px;
    padding: 9px 10px;
    white-space: normal;
  }
  .counselor-row .btn .btn-inline { display: none; }
  .counselor-row .btn .btn-stack {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.05;
    gap: 1px;
  }
}
.expert-meta span:nth-child(2) {
  color: #f1cf74;
  border-color: rgba(241,207,116,.45);
  background: rgba(241,207,116,.1);
}
@keyframes slideInX { from { opacity: .35; transform: translateX(12px);} to {opacity:1; transform: translateX(0);} }
.radial-wrap { display: flex; gap: 10px; flex-wrap: wrap; margin: 8px 0 12px; }
.radial-item { text-align: center; }
.radial-chart {
  --deg: 180deg; width: 72px; aspect-ratio: 1; border-radius: 50%;
  background: conic-gradient(var(--gold) var(--deg), rgba(255,255,255,.2) 0);
  display: grid; place-items: center;
}
.radial-chart::before {
  content: attr(data-value); width: 52px; aspect-ratio: 1; border-radius: 50%;
  background: var(--card); display: grid; place-items: center; font-size: 12px; font-weight: 700;
}
.constellation-loader { margin: 14px auto 0; width: 220px; position: relative; height: 56px; }
.constellation-loader .node {
  position: absolute; width: 12px; height: 12px; border-radius: 50%;
  background: #fff; box-shadow: 0 0 12px rgba(255,255,255,.8); animation: twinkle 1.6s ease-in-out infinite;
}
.constellation-loader .node:nth-child(1){left:10px;top:20px;}
.constellation-loader .node:nth-child(2){left:70px;top:8px;animation-delay:.2s;}
.constellation-loader .node:nth-child(3){left:130px;top:26px;animation-delay:.4s;}
.constellation-loader .node:nth-child(4){left:198px;top:10px;animation-delay:.6s;}
.constellation-loader::before {
  content: ''; position: absolute; left: 12px; right: 14px; top: 24px; height: 2px;
  background: linear-gradient(90deg, rgba(255,255,255,.35), rgba(255,255,255,.8), rgba(255,255,255,.35)); transform: skewY(-8deg);
}
.ai-coach-fab {
  position: fixed; right: 18px; bottom: 88px; z-index: 120; text-decoration: none;
  padding: 12px 16px; border-radius: 999px; color: #fff; font-weight: 700;
  background: linear-gradient(135deg, #7f53d8, #44318d); border: 1px solid rgba(255,255,255,.28);
  box-shadow: 0 14px 28px rgba(22, 14, 45, .35);
}
@keyframes twinkle {
  0%, 100% { opacity: .6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}
@media (max-width: 640px) {
  .tooltip { left: 0; top: 22px; width: 200px; }
  .step-actions { flex-direction: column; }
  .ai-coach-fab { right: 12px; bottom: 78px; font-size: 13px; }
}

/* === UX Overhaul: The First Impact / Live Analyzing / The Reveal === */
.first-impact {
  min-height: 72vh;
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 18px;
  text-align: center;
  position: relative;
  overflow: hidden;
  background:
    radial-gradient(420px 260px at 50% 34%, rgba(255,236,184,.16), transparent 68%),
    linear-gradient(160deg, #0A0B14 0%, #151126 58%, #1c1432 100%);
}
.first-impact::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: .15;
  background-image:
    radial-gradient(rgba(255,255,255,.65) .6px, transparent .9px),
    linear-gradient(120deg, rgba(201,181,255,.16), rgba(201,181,255,0) 40%);
  background-size: 3px 3px, 100% 100%;
}
.impact-glow {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 40%, rgba(238,198,110,.22), transparent 48%);
  pointer-events: none;
}
.impact-copy {
  max-width: 700px;
  color: #f6eefe;
  font-weight: 700;
  font-size: clamp(24px, 4vw, 42px);
  z-index: 1;
  margin: 0;
}
.impact-object { z-index: 1; perspective: 1200px; }
.gold-tarot-card {
  width: min(200px, 48vw);
  aspect-ratio: 2 / 3;
  border-radius: 20px;
  border: 1px solid rgba(246,209,112,.8);
  background: linear-gradient(160deg, rgba(37,22,66,.95), rgba(21,13,39,.98));
  box-shadow: 0 0 0 2px rgba(239,203,100,.24), 0 18px 40px rgba(0,0,0,.45);
  display: grid;
  place-items: center;
  color: #efcb64;
  animation: cardFloat 4s ease-in-out infinite;
  position: relative;
  overflow: hidden;
}
.gold-tarot-card::before,
.gold-tarot-card::after {
  content: '';
  position: absolute;
  border-radius: 999px;
  pointer-events: none;
}
.gold-tarot-card::before {
  width: 180px;
  height: 180px;
  border: 1px solid rgba(131, 198, 255, .28);
  box-shadow: 0 0 16px rgba(131,198,255,.25);
  animation: flowOrbit 8s linear infinite;
}
.gold-tarot-card::after {
  width: 120px;
  height: 120px;
  border: 1px dashed rgba(239,203,100,.32);
  animation: flowOrbit 6s linear infinite reverse;
}
.gold-tarot-card.flow-active {
  box-shadow: 0 0 0 2px rgba(239,203,100,.24), 0 18px 40px rgba(0,0,0,.45), 0 0 30px rgba(131,198,255,.34);
}
.flow-link {
  position: absolute;
  left: 10%;
  right: 10%;
  bottom: 20%;
  height: 54px;
  pointer-events: none;
}
.flow-orb {
  position: absolute;
  top: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  transform: translateY(-50%);
  box-shadow: 0 0 14px rgba(255,255,255,.82);
}
.flow-orb.left { left: 0; background: #8ed1ff; }
.flow-orb.right { right: 0; background: #f7c46d; }
.flow-bridge {
  position: absolute;
  left: 8px;
  right: 8px;
  top: 50%;
  height: 3px;
  transform-origin: center;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(142,209,255,.26), rgba(255,255,255,.9), rgba(247,196,109,.28));
  box-shadow: 0 0 14px rgba(173, 199, 255, .46);
}
.flow-bridge.one {
  transform: translateY(-50%) rotate(-12deg);
  animation: flowBridgePulse 2.8s ease-in-out infinite;
}
.flow-bridge.two {
  transform: translateY(-50%) rotate(11deg);
  animation: flowBridgePulse 2.8s ease-in-out infinite .35s;
}
@keyframes flowBridgePulse {
  0%,100% { opacity: .55; filter: brightness(1); }
  50% { opacity: 1; filter: brightness(1.3); }
}
.flow-caption {
  z-index: 1;
  margin: -6px 0 4px;
  font-size: 13px;
  color: rgba(224,230,245,.92);
  letter-spacing: .01em;
}
.flow-caption strong {
  color: #efcb64;
  font-family: var(--font-number);
  letter-spacing: .06em;
}
.gold-tarot-card .card-mini { font-size: 12px; letter-spacing: 1.5px; z-index: 2; }
.gold-tarot-card strong { font-size: 28px; letter-spacing: 1px; z-index: 2; }
.gold-tarot-card .card-icon { z-index: 2; font-size: 20px; }
.gold-tarot-card .card-bgword {
  position: absolute;
  inset: auto 10px 12px 10px;
  font-size: 20px;
  letter-spacing: 2px;
  opacity: .11;
  color: #fff3cc;
  font-weight: 800;
}
.gold-tarot-card.is-flipping { animation: cardFlipSwap .56s ease, cardFloat 4s ease-in-out infinite; }
.gold-tarot-card.mode-glow { box-shadow: 0 0 0 2px rgba(239,203,100,.24), 0 18px 40px rgba(0,0,0,.45), 0 0 26px rgba(239,203,100,.38); }
.impact-form { z-index: 1; width: min(540px, 92%); display: grid; gap: 10px; }
.impact-form label {
  color: rgba(255,255,255,.9);
  font-weight: 600;
  font-family: var(--font-serif);
  letter-spacing: .01em;
}
.impact-form input,
.impact-form select {
  background: rgba(34, 34, 46, .66);
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  min-height: 44px;
}
.impact-form input:focus,
.impact-form select:focus {
  outline: none;
  border-color: rgba(239,203,100,.55);
  box-shadow: 0 0 0 2px rgba(239,203,100,.16), 0 0 14px rgba(131,198,255,.18);
}
#selfFields,
#partnerFields {
  min-width: 0;
}
#selfFields.form-slide,
#partnerFields.form-slide {
  animation: formSlideIn .34s ease;
}
.impact-cta {
  font-size: 16px;
  width: 100%;
  display: block;
  margin-top: 4px;
  text-align: center;
}
@media (max-width: 640px) {
  .impact-form { width: 100%; }
  .impact-cta { width: 100%; }
}
.impact-transition {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.8);
  z-index: 1200;
}
.impact-ripple {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  border: 2px solid rgba(239,203,100,.9);
  box-shadow: 0 0 40px rgba(239,203,100,.5);
  animation: rippleOut .8s ease forwards;
}

.live-analyzing-card { background: linear-gradient(160deg, rgba(27,17,44,.92), rgba(39,27,67,.84)); }
.analysis-title {
  color: #fff;
  font-size: clamp(28px, 6.4vw, 40px);
  line-height: 1.24;
  margin: 2px 0 12px;
  word-break: keep-all;
}
#modeHint {
  font-size: 15px !important;
  line-height: 1.62;
  color: #f5ecff;
  font-weight: 700;
  margin: 8px 0 10px !important;
}
.mode-guide-text {
  display: block;
  word-break: keep-all;
}
.mode-meta-row {
  display: flex;
  align-items: center;
  margin-top: 8px;
}
.concern-pill {
  display: inline-flex;
  align-items: center;
  padding: 6px 12px;
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(239,203,100,.28), rgba(129,92,215,.16));
  border: 1px solid rgba(255,235,167,.75);
  box-shadow: 0 0 0 1px rgba(255,235,167,.25), 0 0 14px rgba(239,203,100,.22);
  color: #ffe6a7;
  margin-left: 0;
  cursor: pointer;
  font-size: 14px;
  line-height: 1.2;
  font-weight: 800;
}

body.adult-mode .live-analyzing-card {
  background: linear-gradient(165deg, rgba(56, 17, 74, .94), rgba(81, 18, 39, .9));
  border-color: rgba(245, 98, 157, .45);
}
body.adult-mode .question-card {
  background: linear-gradient(165deg, rgba(49, 15, 67, .75), rgba(93, 17, 45, .6));
  border-color: rgba(232, 122, 170, .45);
}
body.adult-mode .option {
  border-color: rgba(232, 122, 170, .32);
}
body.compat-mode .live-analyzing-card {
  background: linear-gradient(165deg, rgba(63, 22, 87, .92), rgba(146, 67, 124, .72));
  border-color: rgba(255, 174, 212, .45);
}
body.compat-mode .question-card {
  background: linear-gradient(165deg, rgba(82, 33, 109, .66), rgba(168, 80, 138, .46));
  border-color: rgba(255, 174, 212, .45);
}
.question-context {
  font-size: 15px !important;
  line-height: 1.55;
  color: #e9dcff !important;
  font-weight: 700;
}
.question-card h3 {
  font-size: clamp(28px, 6vw, 38px);
  line-height: 1.35;
}
.analyzing-statusbar {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
  margin-bottom: 10px;
}
.analyzing-statusbar::-webkit-scrollbar { display: none; }
.scan-icon {
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 14px;
  padding: 8px;
  color: #d8c5ff;
  text-align: center;
  font-weight: 700;
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(4px);
  cursor: pointer;
  min-width: 0;
}
button.scan-icon,
button.scan-icon:hover {
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.18);
  color: #d8c5ff;
  transform: none;
}
.scan-icon span { display: block; font-size: 11px; }
.ff-eye-inline {
  width: 16px;
  height: 16px;
  display: inline-block;
  position: relative;
  vertical-align: middle;
  margin-bottom: 2px;
}
.ff-eye-inline::before {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: 50%;
  background: rgba(255,255,255,.09);
  backdrop-filter: blur(4px) saturate(116%);
  -webkit-backdrop-filter: blur(4px) saturate(116%);
}
.ff-eye-inline::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url('/assets/brand/cosmic-eye-exact.png') center/contain no-repeat;
}
.scan-icon.active { color: #fff; border-color: rgba(255,235,167,.9); box-shadow: 0 0 0 1px rgba(255,235,167,.45), 0 0 18px rgba(239,203,100,.28); }
.scan-icon.scanning { animation: scanPulse .45s ease 2; }
.scan-icon.clicked-pulse { animation: borderWave .5s ease; }
@keyframes borderWave {
  0% { box-shadow: 0 0 0 0 rgba(239,203,100,.15); border-color: var(--border); }
  50% { box-shadow: 0 0 0 8px rgba(239,203,100,.12); border-color: var(--gold); }
  100% { box-shadow: 0 0 0 0 rgba(239,203,100,0); border-color: var(--gold); }
}
.live-metric-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 12px; }
.live-metric { border: 1px solid var(--border); border-radius: 14px; padding: 10px; background: rgba(255,255,255,.05); }
.live-metric strong { color: #fff; font-size: 28px; }
.live-ticker {
  margin-top: 10px;
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 999px;
  padding: 9px 12px;
  color: #f1e8ff;
  background: rgba(255,255,255,.06);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.live-ticker .ticker-step {
  font-size: 11px;
  color: #efcb64;
  border: 1px solid rgba(239,203,100,.45);
  border-radius: 999px;
  padding: 3px 8px;
  white-space: nowrap;
}

.weather-hero { display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center; }
.weather-badge { font-size: 13px; border: 1px solid var(--border); padding: 5px 10px; border-radius: 999px; }
.golden-time { font-size: clamp(48px, 9vw, 88px); color: var(--gold); font-weight: 800; line-height: 1; }
.golden-time-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid rgba(239,203,100,.72);
  background: linear-gradient(135deg, rgba(76,52,131,.38), rgba(31,19,62,.8));
  box-shadow: 0 0 20px rgba(239,203,100,.35), 0 0 30px rgba(181,124,255,.22);
}

/* Result page minimal header + mode emphasis */
.minimal-report-header {
  position: relative;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
}
.report-title-wrap { display: grid; gap: 2px; justify-items: center; }
.report-title { margin: 0; font-size: 15px; color: var(--gold); letter-spacing: .2px; font-weight: 700; }
.result-drawer {
  display: grid;
  gap: 8px;
  margin: -6px 0 10px;
  justify-items: end;
}
.result-drawer[hidden] { display: none; }

/* total-fortune: immersive journey navigation */
.total-fortune-page .minimal-report-header .menu-btn {
  width: 42px;
  height: 42px;
  padding: 0;
  border-radius: 12px;
  font-size: 17px;
  font-weight: 700;
}
.total-fortune-page .minimal-report-header .menu-btn.active {
  color: #f3d47a;
  border-color: rgba(243,212,122,.58);
  box-shadow: 0 0 0 1px rgba(243,212,122,.3), 0 0 16px rgba(243,212,122,.35);
}
.tf-nav-backdrop {
  position: fixed;
  inset: 0;
  z-index: 9996;
  background:
    radial-gradient(140% 130% at 100% 0%, rgba(168,128,255,.34) 0%, rgba(20,14,40,.88) 58%),
    linear-gradient(145deg, rgba(10,9,20,.88), rgba(8,8,18,.9));
  backdrop-filter: blur(22px);
  animation: tfBackdropIn .26s ease both;
}
.tf-nav-backdrop::before {
  content: '';
  position: absolute;
  inset: -12% -8%;
  background:
    radial-gradient(35% 25% at 70% 24%, rgba(123,92,255,.26), transparent 65%),
    radial-gradient(30% 22% at 82% 62%, rgba(239,203,100,.16), transparent 70%),
    radial-gradient(28% 20% at 45% 82%, rgba(101,129,255,.12), transparent 72%);
  opacity: .55;
}
.tf-nav-backdrop::after {
  content: '';
  position: absolute;
  width: min(72vmin, 540px);
  aspect-ratio: 1;
  right: max(8vw, 30px);
  top: 10vh;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.08);
  box-shadow:
    0 0 0 18px rgba(255,255,255,.03),
    0 0 0 40px rgba(239,203,100,.04),
    inset 0 0 40px rgba(255,255,255,.04);
  opacity: .26;
  animation: tfNebulaSpin 30s linear infinite;
}
.total-fortune-page .tf-journey-drawer {
  position: fixed;
  top: 0;
  right: 0;
  width: min(88vw, 400px);
  height: 100dvh;
  margin: 0;
  padding: 20px 16px 20px;
  z-index: 9997;
  justify-items: stretch;
  border-left: 1px solid rgba(255,255,255,.18);
  border-radius: 0;
  background:
    radial-gradient(120% 120% at 90% 0%, rgba(239,203,100,.18), rgba(239,203,100,0) 45%),
    linear-gradient(170deg, rgba(30,22,55,.78), rgba(17,13,34,.84));
  backdrop-filter: blur(24px);
  box-shadow: -16px 0 30px rgba(0,0,0,.35), 0 0 0 1px rgba(239,203,100,.14) inset;
  overflow-y: auto;
  animation: tfDrawerIn .28s ease both;
}
.tf-drawer-close {
  justify-self: end;
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color: #edf1ff;
}
.tf-drawer-profile {
  margin-top: 6px;
  padding: 15px 14px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(150deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
}
.tf-drawer-profile .small { font-size: 14px; color: #eef1ff; }
.tf-seal {
  margin-top: 10px;
  font-family: var(--font-number);
  letter-spacing: .12em;
  font-size: 13px;
  color: #f1d995;
  text-shadow: 0 0 10px rgba(241,217,149,.28);
}
.tf-menu-group {
  margin-top: 12px;
  display: grid;
  gap: 8px;
}
.tf-menu-group.setting { margin-top: 16px; }
.tf-menu-item {
  width: 100%;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  min-height: 52px;
  padding: 16px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.035);
  color: #edf1ff;
  font-weight: 650;
  font-size: 16px;
  backdrop-filter: blur(14px);
}
.tf-menu-item > span:last-child { flex: 1; }
.tf-menu-item .ic {
  width: 18px;
  text-align: center;
  opacity: .95;
}
.tf-menu-item::after {
  content: '✦';
  font-size: 11px;
  color: rgba(244,204,103,.5);
  opacity: .6;
}
.tf-menu-item.sub,
.tf-menu-item.setting {
  font-size: 14px;
  color: #d6ddf4;
  min-height: 46px;
}
.tf-menu-item.active {
  color: #f4cc67;
  border-color: rgba(244,204,103,.52);
  text-shadow: 0 0 10px rgba(244,204,103,.45);
  background: linear-gradient(110deg, rgba(244,204,103,.14), rgba(244,204,103,.04) 45%, rgba(255,255,255,.04));
  box-shadow: inset 2px 0 0 rgba(244,204,103,.9), 0 0 16px rgba(244,204,103,.2);
}
.tf-menu-item.active::after {
  opacity: 1;
  color: #ffd87c;
  text-shadow: 0 0 8px rgba(255,216,124,.65);
  animation: tfStarPulse 1.4s ease-in-out infinite;
}
.tf-menu-item:hover {
  border-color: rgba(255,255,255,.3);
  background: rgba(255,255,255,.08);
}
.tf-journey-status {
  margin: auto 2px 0;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  color: #dbe3fa;
  font-size: 12px;
  line-height: 1.5;
}
body.tf-nav-open { overflow: hidden; }
@keyframes tfDrawerIn {
  from { opacity: .25; transform: translateX(22px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes tfBackdropIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes tfNebulaSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes tfStarPulse {
  0%, 100% { transform: scale(.92); opacity: .7; }
  50% { transform: scale(1.15); opacity: 1; }
}

.tf-mobile-dock { display: none; }

@media (max-width: 768px) {
  .total-fortune-page .container.reveal-page {
    padding: 12px 12px calc(96px + env(safe-area-inset-bottom));
  }
  .total-fortune-page .minimal-report-header {
    position: sticky;
    top: 6px;
    z-index: 20;
    padding: 8px 10px;
    border-radius: 14px;
    background: rgba(10, 10, 24, .64);
    backdrop-filter: blur(10px);
  }
  .total-fortune-page .minimal-report-header .btn {
    min-height: 40px;
    padding: 0 12px;
    font-size: 13px;
  }
  .total-fortune-page .report-title { font-size: 14px; }

  .total-fortune-page .card {
    border-radius: 16px;
    padding: 14px;
  }
  .total-fortune-page .fortune-acc summary .txt,
  .total-fortune-page .fortune-body p {
    font-size: 15px;
    line-height: 1.8;
  }

  .total-fortune-page .tf-journey-drawer {
    top: auto;
    bottom: 0;
    width: 100vw;
    height: min(82dvh, 760px);
    border-left: 0;
    border-top: 1px solid rgba(255,255,255,.2);
    border-radius: 18px 18px 0 0;
    animation: tfBottomSheetIn .24s ease both;
    padding-bottom: calc(18px + env(safe-area-inset-bottom));
  }

  .tf-mobile-dock {
    position: fixed;
    left: 10px;
    right: 10px;
    bottom: calc(8px + env(safe-area-inset-bottom));
    z-index: 1300;
    display: flex;
    flex-wrap: nowrap;
    justify-content: space-around;
    align-items: stretch;
    gap: 4px;
    min-height: 68px;
    padding: 6px 8px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(13,12,27,.74);
    backdrop-filter: blur(15px);
  }
  .tf-mobile-dock .item {
    flex: 1 1 0;
    min-width: 0;
    min-height: 56px;
    border-radius: 10px;
    text-decoration: none;
    color: rgba(216,222,245,.92);
    display: grid;
    place-items: center;
    gap: 2px;
    font-size: 11px;
    font-weight: 700;
    border: 0;
  }
  .tf-mobile-dock .item b {
    display: block;
    font-size: 10px;
    letter-spacing: -.01em;
    white-space: nowrap;
  }
  .tf-mobile-dock .item span {
    font-size: 20px;
    line-height: 1;
    text-shadow: none;
  }
  .tf-mobile-dock .item.active {
    color: #ffd76f;
    background: rgba(255,255,255,.04);
    box-shadow: none;
  }
  .tf-mobile-dock .item.active span,
  .tf-mobile-dock .item.active b {
    color: #ffd76f;
    text-shadow: none;
  }

  .tf-mobile-dock .item.special-glow {
    position: relative;
    color: #ffe08f;
    animation: pulse-gold 3s ease-in-out infinite;
  }
  .tf-mobile-dock .item.special-glow span {
    filter: drop-shadow(0 0 2px #FFD700);
  }
  .tf-mobile-dock .item.special-glow::after {
    content: '';
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    right: 10px;
    top: 8px;
    background: rgba(255,215,0,.95);
    box-shadow: 0 0 10px rgba(255,215,0,.9), 0 0 18px rgba(255,215,0,.6);
    animation: bichaekParticle 2.6s ease-in-out infinite;
  }
}

@keyframes tfBottomSheetIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@media (max-width: 768px) {
  body.has-global-dock .bottom-nav { display: none !important; }
}

/* today-secret card news style */
.today-secret-wrap {
  display: grid;
  gap: 14px;
  justify-items: center;
}
.daily-secret-card {
  --daily-glow: #f4d27a;
  width: min(520px, 100%);
  border-radius: 26px;
  padding: 18px 16px;
  border: 1px solid color-mix(in srgb, var(--daily-glow) 42%, rgba(255,255,255,.18));
  background:
    radial-gradient(120% 120% at 80% 10%, color-mix(in srgb, var(--daily-glow) 24%, transparent), transparent 50%),
    linear-gradient(165deg, rgba(31,22,56,.9), rgba(22,17,39,.95));
  box-shadow: 0 0 26px color-mix(in srgb, var(--daily-glow) 34%, transparent), 0 0 0 1px rgba(255,255,255,.08) inset;
  animation: dailyCardIn .5s ease both;
  transform-origin: center bottom;
}
/* html2canvas 호환용: color-mix 제거 */
.daily-secret-card.capture-safe {
  border-color: rgba(255,255,255,.22);
  background:
    radial-gradient(120% 120% at 80% 10%, rgba(244,210,122,.18), transparent 50%),
    linear-gradient(165deg, rgba(31,22,56,.9), rgba(22,17,39,.95));
  box-shadow: 0 0 20px rgba(244,210,122,.22), 0 0 0 1px rgba(255,255,255,.08) inset;
  animation: none !important;
  transform: none !important;
  opacity: 1 !important;
}
.daily-secret-card.capture-safe,
.daily-secret-card.capture-safe * {
  animation: none !important;
  transition: none !important;
}
.daily-secret-card.capture-safe .daily-symbol {
  box-shadow: 0 0 0 8px rgba(255,255,255,.03), 0 0 14px rgba(244,210,122,.26);
}
.daily-secret-card.capture-safe #destinyWavePath {
  filter: none !important;
}
.daily-secret-card.capture-safe #destinyWaveSvg,
.daily-secret-card.capture-safe #destinyWaveSvg * {
  filter: none !important;
}
.daily-head .date {
  margin: 0 0 6px;
  font-size: 12px;
  color: #cfd9f2;
}
.daily-head h2 {
  margin: 0;
  font-family: var(--font-serif);
  font-size: clamp(22px, 5.8vw, 28px);
  color: #fff7dc;
  line-height: 1.3;
}
.daily-symbol {
  margin: 14px auto 10px;
  width: 88px;
  height: 88px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-size: 38px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.2);
  box-shadow: 0 0 0 8px rgba(255,255,255,.03), 0 0 18px color-mix(in srgb, var(--daily-glow) 42%, transparent);
}
.destiny-wave-box {
  margin: 14px 0 12px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.04);
  position: relative;
}
.wave-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}
.wave-head strong { color: #f5e7b1; font-size: 13px; }
.wave-head span { color: #e4ecff; font-size: 12px; }
#destinyWaveSvg {
  width: 100%;
  height: 110px;
}
#destinyWavePath {
  fill: none;
  stroke-width: 3;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.wave-stats {
  margin-top: 4px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 6px;
}
.wave-stats span {
  text-align: center;
  font-size: 12px;
  color: #e7edff;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  padding: 5px 6px;
}
.wave-tip {
  margin: 8px 0 0;
  font-size: 12px;
  color: #d4dff9;
}
.wave-tooltip {
  position: absolute;
  transform: translate(-50%, -100%);
  pointer-events: none;
  max-width: 220px;
  padding: 6px 9px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(12,12,26,.92);
  color: #f2f5ff;
  font-size: 11px;
  line-height: 1.45;
  z-index: 2;
}
.wave-peak-star { animation: wavePeakPulse 1.2s ease-in-out infinite; }
@keyframes wavePeakPulse {
  0%, 100% { opacity: .55; transform: scale(.9); }
  50% { opacity: 1; transform: scale(1.1); }
}
.daily-copy {
  margin: 0;
  color: #edf2ff;
  line-height: 1.75;
  font-size: 15px;
}
.quick-badges {
  margin-top: 14px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.quick-badges span {
  min-height: 38px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.17);
  background: rgba(255,255,255,.05);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 10px;
  font-size: 12px;
  color: #e8eeff;
}
.daily-actions {
  width: min(520px, 100%);
  display: grid;
}
.daily-actions .btn {
  width: 100%;
  text-align: center;
  justify-content: center;
}
.save-preview-modal {
  position: fixed;
  inset: 0;
  background: rgba(8, 8, 16, .7);
  z-index: 9999;
  display: grid;
  place-items: end center;
  padding: 16px;
  pointer-events: auto;
}
.save-preview-sheet {
  width: min(520px, 100%);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(20, 17, 35, .96);
  padding: 12px;
}
.save-preview-sheet p {
  margin: 0 0 8px;
  font-size: 13px;
  color: #dfe6ff;
}
.save-preview-sheet img {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.14);
  background: #120f23;
}
.consult-hub-card h3,
.consult-status-card h1 {
  margin: 0 0 8px;
}
.consult-hub-actions {
  margin-top: 10px;
  display: grid;
  gap: 8px;
}
.consult-hub-actions .btn {
  width: 100%;
  justify-content: center;
  text-align: center;
}
.btn.is-coming,
.status-chip.off {
  opacity: .72;
}
.consult-status-row {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.status-chip {
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(255,255,255,.05);
  padding: 6px 10px;
  font-size: 12px;
}
button.status-chip {
  appearance: none;
  color: #e6edff;
}
.ff-quick-menu {
  position: fixed;
  inset: 0;
  background: rgba(7,8,18,.62);
  z-index: 1600;
  display: grid;
  place-items: end center;
  padding: 14px;
}
.ff-quick-menu[hidden] {
  display: none !important;
}
.ff-quick-menu-sheet {
  width: min(520px, 100%);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(160deg, rgba(31,22,56,.96), rgba(23,17,38,.96));
  padding: 12px;
  display: grid;
  gap: 8px;
}
.ff-quick-menu-sheet h4 {
  margin: 2px 4px 6px;
  font-size: 13px;
  color: #e9d49f;
}
.ff-quick-menu-sheet a {
  display: block;
  padding: 12px;
  border-radius: 12px;
  text-decoration: none;
  color: #e9efff;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
}
.ff-quick-menu-sheet .btn { margin-top: 4px; }
.status-chip.on {
  border-color: rgba(122,243,175,.42);
  color: #d8ffe8;
}
.expert-waitlist-modal input {
  width: 100%;
  margin: 6px 0 10px;
}
@keyframes dailyCardIn {
  from { opacity: 0; transform: translateY(14px) scale(.97) rotateX(9deg); }
  to { opacity: 1; transform: translateY(0) scale(1) rotateX(0); }
}

.fortune-report-list {
  display: grid;
  gap: 10px;
}
.report-item h3 {
  margin: 0 0 6px;
  font-size: 17px;
}
.mode-hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 700;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.05);
  color: #d9deec;
  margin-bottom: 10px;
}
.result-main-title { font-size: clamp(28px, 5vw, 36px); }
.hero-focus-wrap { text-align: center; padding: 10px 4px 8px; }
.hero-name {
  font-family: var(--font-serif);
  font-size: clamp(32px, 7.4vw, 48px);
  font-weight: 700;
  letter-spacing: .02em;
  line-height: 1.15;
  margin-bottom: 10px;
  text-shadow: 0 2px 16px rgba(0,0,0,.35);
}
.hero-grade-badge {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
  color: #f7f8fc;
  font-weight: 800;
  letter-spacing: .05em;
  margin: 8px 0 16px;
  overflow: hidden;
}
.hero-grade-badge::after {
  content: '';
  position: absolute;
  top: 0;
  left: -130%;
  width: 55%;
  height: 100%;
  background: linear-gradient(110deg, transparent, rgba(255,255,255,.4), transparent);
  animation: heroShimmer 2.4s ease-in-out infinite;
}
.hero-grade-display {
  font-family: var(--font-number);
  font-size: clamp(28px, 7vw, 46px);
  line-height: 1;
  letter-spacing: .08em;
  box-shadow: 0 0 22px rgba(255,215,120,.38), 0 0 34px rgba(255,255,255,.10), 0 0 42px rgba(147,112,255,.22);
  text-shadow: 0 1px 0 rgba(0,0,0,.22);
  animation: heroGradeZoom .55s ease both;
}
.mode-hero-note.hero-one-liner {
  font-family: var(--font-serif);
  font-size: clamp(19px, 4.8vw, 26px);
  font-weight: 700;
  line-height: 1.45;
  margin: 2px 0 14px;
  background: linear-gradient(90deg, #f6e39b, #eebf63);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.fortune-score-head strong {
  font-family: var(--font-number);
  background: linear-gradient(90deg, #f6e39b, #d29dff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
.reveal-weather .weather-hero {
  position: relative;
  background:
    radial-gradient(120% 120% at 20% -10%, rgba(126,105,204,.22) 0%, rgba(10,11,20,0) 50%),
    linear-gradient(160deg, #0A0B14 0%, #15162a 58%, #1b1430 100%);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.08);
  overflow: hidden;
}
.reveal-weather .weather-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: .16;
  background-image:
    radial-gradient(rgba(255,255,255,.55) .5px, transparent .8px),
    linear-gradient(120deg, rgba(175,163,220,.14) 0, rgba(175,163,220,0) 35%);
  background-size: 3px 3px, 100% 100%;
  mix-blend-mode: screen;
}
@keyframes heroGradeZoom {
  from { transform: scale(.92); opacity: .75; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes heroShimmer {
  0% { left: -130%; }
  60%,100% { left: 150%; }
}
.hero-merged-summary {
  margin-top: 14px;
  border-top: 1px solid rgba(255,255,255,.12);
  padding-top: 12px;
}
.hero-merged-summary .grade-emblem {
  margin-bottom: 8px;
}
.fortune-score-head { text-align: center; margin-bottom: 6px; }
.hero-score-bar { max-width: 520px; margin: 0 auto; }
.hero-score-bar .hero-score-fill {
  display: block;
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #8d6dff, #efcb64);
  border-radius: inherit;
  box-shadow: 0 0 10px rgba(141,109,255,.45), 0 0 18px rgba(239,203,100,.35);
  animation: scoreFill .8s ease forwards;
  animation-delay: .15s;
}
@keyframes scoreFill {
  to { width: calc(var(--score, 0) * 1%); }
}
.hero-mini-metrics {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}
.mini-metric {
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  background: rgba(255,255,255,.04);
  padding: 8px 10px;
}
.mini-metric span {
  display: block;
  font-size: 11px;
  color: #cfd3df;
  font-weight: 500;
}
.mini-metric strong {
  display: block;
  margin-top: 2px;
  font-size: 14px;
  font-weight: 600;
  color: #f4f6fb;
}

.reveal-ziwei {
  margin-top: 10px;
  width: min(360px, 100%);
  aspect-ratio: 1/1;
  border-radius: 50%;
  border: 1px solid rgba(239,203,100,.5);
  position: relative;
  background: radial-gradient(circle, rgba(99,66,167,.38), transparent 60%);
}
.reveal-ziwei::before,
.reveal-ziwei::after {
  content: '';
  position: absolute;
  inset: 16%;
  border-radius: 50%;
  border: 1px dashed rgba(239,203,100,.6);
}
.reveal-ziwei::after { inset: 34%; }
.star-word { margin-top: 8px; color: var(--gold); font-weight: 800; font-size: 20px; }
.authority-quote {
  margin-top: 12px;
  border-left: 4px solid var(--gold);
  padding: 10px 14px;
  background: rgba(255,255,255,.08);
  font-size: 18px;
  color: #f4ebff;
}
.reveal-strong-cta { width: 100%; text-align: center; font-size: clamp(15px, 2vw, 18px); padding: 14px 16px; margin-bottom: 10px; }

@keyframes cardFloat {
  0%,100% { transform: translateY(0) rotate(-1deg); }
  50% { transform: translateY(-10px) rotate(1deg); }
}
@keyframes cardFlipSwap {
  0% { transform: rotateY(0deg); }
  50% { transform: rotateY(90deg); }
  100% { transform: rotateY(0deg); }
}
@keyframes flowOrbit {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
@keyframes formSlideIn {
  from { opacity: 0; transform: translateX(14px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes rippleOut { to { transform: scale(40); opacity: 0; } }
@keyframes scanPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

@media (max-width: 640px) {
  .weather-hero { grid-template-columns: 1fr; }
  .reveal-page .card,
  .ziwei-report-page .card { padding: 32px 24px; }
  .hero-mini-metrics { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .analyzing-statusbar { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .mini-metric { padding: 7px 8px; }
  .mini-metric strong { font-size: 13px; }
  .analysis-title { font-size: clamp(20px, 5.8vw, 28px); }
  #modeHint { font-size: 14px !important; }
  .question-context { font-size: 13px !important; }
  .question-card h3 { font-size: clamp(18px, 5.2vw, 24px); line-height: 1.42; }
  .concern-pill { margin-left: 0; margin-top: 0; font-size: 13px; }
  .header-actions { gap: 6px; }
  .icon-btn { min-height: 34px; min-width: 34px; font-size: 16px; }
  .theme-btn { font-size: 11px; min-height: 34px; padding: 7px 10px; }

  .live-focus-page .live-analyzing-card { padding-top: 14px; }
  .live-focus-page .progress-wrap { margin-top: 6px; margin-bottom: 8px; }
  .live-focus-page .progress-label { font-size: 13px; }
}

/* Phase4 polish */
.pre-result-card {
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(239,203,100,.35);
}
.pre-result-orbit {
  width: 140px;
  height: 140px;
  margin: 0 auto 12px;
  border-radius: 50%;
  border: 1px dashed rgba(239,203,100,.7);
  position: relative;
  animation: orbit 5s linear infinite;
}
.pre-result-orbit::before {
  content: '';
  position: absolute;
  inset: -24px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,230,154,.18), transparent 68%);
  animation: pulseGlow 1.6s ease-in-out infinite;
}
.pre-result-eye {
  position: absolute;
  inset: 34px;
  border-radius: 50%;
  box-shadow: 0 0 28px rgba(239,203,100,.45);
  animation: loaderEyePulse 1.8s ease-in-out infinite;
}
.pre-result-eye::before {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: 50%;
  background: rgba(255,255,255,.1);
  backdrop-filter: blur(7px) saturate(116%);
  -webkit-backdrop-filter: blur(7px) saturate(116%);
}
.pre-result-eye::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: url('/assets/brand/cosmic-eye-exact.png') center/cover no-repeat;
}
.pre-result-dust {
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.pre-result-dust span {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: rgba(255, 234, 176, .9);
  box-shadow: 0 0 10px rgba(255, 225, 145, .72);
  left: 50%;
  top: 50%;
  animation: loaderDustBurst 2.2s ease-out infinite;
}
.pre-result-dust span:nth-child(1) { --dx: 48px; --dy: -8px; animation-delay: 0s; }
.pre-result-dust span:nth-child(2) { --dx: -42px; --dy: -22px; animation-delay: .3s; }
.pre-result-dust span:nth-child(3) { --dx: 26px; --dy: 44px; animation-delay: .55s; }
.pre-result-dust span:nth-child(4) { --dx: -30px; --dy: 40px; animation-delay: .85s; }
.pre-result-dust span:nth-child(5) { --dx: 0px; --dy: -52px; animation-delay: 1.2s; }
.pre-result-dust span:nth-child(6) { --dx: 58px; --dy: 18px; animation-delay: 1.5s; }
.pre-result-metrics strong { color: #fff; font-size: 32px; }

.gold-highlight-card {
  border: 2px solid rgba(239,203,100,.76);
  box-shadow: 0 0 0 1px rgba(255,230,172,.45), var(--shadow);
  background: linear-gradient(145deg, rgba(255,252,243,.88), rgba(255,245,220,.7));
}
[data-theme='dark'] .gold-highlight-card {
  background: linear-gradient(145deg, rgba(42,30,60,.86), rgba(37,24,58,.82));
}
.gold-highlight-value {
  color: color-mix(in srgb, var(--gold) 82%, #fff);
  font-size: clamp(34px, 7vw, 56px);
  font-weight: 900;
  line-height: 1.1;
}
.core-value {
  font-size: 30px;
  font-weight: 900;
  color: color-mix(in srgb, var(--gold) 82%, #fff);
}

.fortune-card-section[data-card-theme='tarot'] .fortune-card-grid {
  perspective: 1200px;
  padding: 18px 8px 24px;
  background:
    radial-gradient(ellipse at 50% 118%, rgba(73,52,39,.42), transparent 70%),
    linear-gradient(180deg, rgba(44,27,72,.16), rgba(25,15,40,.02));
  border-radius: 20px;
}
.fortune-card-section[data-card-theme='tarot'] .fortune-card {
  transform: perspective(1200px) rotateX(10deg);
  transform-origin: center bottom;
}
.fortune-card-section[data-card-theme='tarot'] .fortune-card:hover .fortune-card-inner,
.fortune-card-section[data-card-theme='tarot'] .fortune-card:focus-visible .fortune-card-inner {
  transform: translateY(-14px) rotateZ(-1deg);
  filter: drop-shadow(0 14px 20px rgba(0,0,0,.35));
}

.bottom-nav {
  justify-content: space-between;
  gap: 10px;
}
.bottom-nav a {
  flex: 1 0 auto;
  text-align: center;
}

@keyframes pulseGlow {
  0%,100% { opacity: .55; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.08); }
}
@keyframes loaderEyePulse {
  0%, 100% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.06); filter: brightness(1.08); }
}
@keyframes loaderDustBurst {
  0% { transform: translate(-50%, -50%) scale(.4); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.1); opacity: 0; }
}

/* Phase5 conversion + mystic impact */
[data-theme='dark'] {
  --bg: #1A1A2E;
  --bg-grad-start: #1A1A2E;
  --bg-grad-mid: #241d46;
  --bg-grad-end: #1A1A2E;
}
.card { position: relative; }
.card::before {
  content: '';
  position: absolute;
  left: 18px;
  right: 18px;
  top: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(212,175,55,.45), transparent);
}
.gold-highlight-value,
.core-value,
.golden-time {
  color: #efcb64;
  text-shadow: 0 0 10px rgba(181,124,255,.46), 0 0 22px rgba(239,203,100,.34);
}
.bridge-card { border-color: rgba(212,175,55,.45); }
.briefing-card { border-color: rgba(165,124,255,.4); }

.pre-result-message { color: rgba(255,255,255,.9); }
.ziwei-loader-sigil {
  width: 120px;
  height: 120px;
  margin: 6px auto 12px;
  position: relative;
}
.ziwei-loader-sigil span {
  position: absolute;
  inset: 0;
  border: 1px solid rgba(212,175,55,.5);
  border-radius: 14px;
  animation: sigilDraw 2.8s ease-in-out infinite;
}
.ziwei-loader-sigil span:nth-child(2) { transform: rotate(30deg); animation-delay: .2s; }
.ziwei-loader-sigil span:nth-child(3) { transform: rotate(60deg); animation-delay: .45s; }
.ziwei-loader-sigil span:nth-child(4) { inset: 24px; border-radius: 50%; animation-delay: .7s; }

.ziwei-board { animation: none; }
.palace {
  position: relative;
  font-size: 14px;
  cursor: pointer;
}
.palace.mingzhu {
  box-shadow: inset 0 0 0 1px rgba(255,225,145,.88), 0 0 18px rgba(212,175,55,.45);
  background: linear-gradient(140deg, rgba(123,71,212,.72), rgba(35,20,62,.7));
}
.palace.selected { outline: 2px solid rgba(185,140,255,.9); z-index: 1; }
.mingzhu-tag {
  position: absolute;
  bottom: 6px;
  right: 6px;
  font-size: 10px;
  color: #fbe7ab;
}
.ziwei-detail-card {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 10px 12px;
  background: rgba(255,255,255,.08);
  color: #f4ebff;
  margin-bottom: 10px;
}
.ziwei-detail-card p { margin: 4px 0 0; }

.expert-match-label {
  margin: 0 0 10px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.expert-match-label strong {
  font-size: 13px;
  color: #f5d97f;
}
.expert-match-label span {
  font-size: 11px;
  opacity: .75;
}

.typing-indicator {
  min-width: 72px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.typing-indicator span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(200,155,255,.9);
  animation: typingPulse 1s infinite;
}
.typing-indicator span:nth-child(2) { animation-delay: .15s; }
.typing-indicator span:nth-child(3) { animation-delay: .3s; }
.bubble-pop { animation: bubblePop .38s cubic-bezier(.22,1.4,.36,1); }

/* Font mapping (요청 반영) */
#resultBox h1,
#bridgeBox h3,
#briefingBox h3,
#goldenTimeCard h3,
#mindKeywordCard h3,
.star-word,
.authority-quote,
.bridge-card p:first-of-type {
  font-family: var(--font-point);
  font-weight: 400;
}

#chatPanel .bubble.ai,
.coach-bubbles .bubble.ai,
.fortune-card .card-front strong,
.fortune-card .card-front small {
  font-family: var(--font-point);
  font-weight: 400;
}

.gold-highlight-value,
.core-value,
.golden-time,
.live-metric strong,
.metric-chip strong {
  font-family: var(--font-number);
  font-weight: 700;
  letter-spacing: .2px;
}


@keyframes sigilDraw {
  0% { opacity: .2; transform: scale(.9) rotate(0deg); }
  50% { opacity: .9; transform: scale(1) rotate(12deg); }
  100% { opacity: .2; transform: scale(.9) rotate(24deg); }
}
@keyframes typingPulse {
  0%,80%,100% { transform: translateY(0); opacity: .45; }
  40% { transform: translateY(-4px); opacity: 1; }
}
@keyframes bubblePop {
  0% { transform: scale(.85) translateY(8px); opacity: 0; }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

/* === commercial polish overrides === */
.number-metric { font-family: var(--font-number); font-weight: 800; }
.trust-counter-card p { margin: 0; text-align: center; font-weight: 600; }
.trust-counter-card strong { font-size: clamp(26px, 4vw, 34px); color: var(--gold); }

.progress-star-track { position: relative; }
.progress-star {
  position: absolute;
  top: -12px;
  left: -10px;
  transition: left .45s cubic-bezier(.22,.61,.36,1);
  filter: drop-shadow(0 0 8px rgba(239,203,100,.7));
}
@keyframes fadeOutSoft { from { opacity: 1; transform: translateY(0) scale(1); } to { opacity: 0; transform: translateY(-6px) scale(.985);} }
@keyframes fadeInSoft { from { opacity: 0; transform: translateY(8px) scale(.985);} to { opacity: 1; transform: translateY(0) scale(1);} }
.slide-out { animation: fadeOutSoft .46s ease forwards !important; }
.slide-in { animation: fadeInSoft .52s ease !important; }
.fade-swap { animation: fadeInSoft .34s ease; }

/* font strategy reset and remap */
#resultBox h1,
#bridgeBox h3,
#briefingBox h3,
#goldenTimeCard h3,
#mindKeywordCard h3,
.star-word,
.authority-quote,
.bridge-card p:first-of-type,
.fortune-card .card-front strong,
.fortune-card .card-front small,
.destiny-line { font-family: var(--font-body) !important; }

#chatPanel .bubble.ai,
.coach-bubbles .bubble.ai,
.destiny-line,
.hand-font {
  font-family: var(--font-point) !important;
  font-size: max(18px, 1.05rem);
  line-height: 1.85;
  font-weight: 400;
}

.core-metric-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 12px;
}
.wizard-dashboard {
  position: relative;
  isolation: isolate;
}
.wizard-dashboard::before {
  content: '';
  position: absolute;
  inset: -8px;
  background: radial-gradient(circle at 20% 10%, rgba(239,203,100,.18), transparent 45%), radial-gradient(circle at 80% 90%, rgba(166,120,255,.14), transparent 40%);
  z-index: -1;
  pointer-events: none;
}
.gauge-card {
  padding: 16px 14px 18px;
  border-radius: 24px 24px 24px 10px;
  border: 1px solid rgba(239,203,100,.34);
  background: linear-gradient(145deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  backdrop-filter: blur(9px);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.2), 0 12px 30px rgba(9,6,22,.3), 0 0 18px rgba(212,175,55,.18);
}
.gauge-head {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
}
.metric-icon { color: var(--gold); filter: drop-shadow(0 0 8px rgba(239,203,100,.4)); }
.gauge-wrap {
  margin-top: 8px;
  position: relative;
  width: 120px;
  height: 120px;
}
.gauge-svg { width: 120px; height: 120px; transform: rotate(-90deg); }
.gauge-ring-bg {
  fill: none;
  stroke: rgba(255,255,255,.16);
  stroke-width: 10;
}
.gauge-ring-progress {
  fill: none;
  stroke: var(--gold);
  stroke-width: 10;
  stroke-linecap: round;
  filter: drop-shadow(0 0 10px rgba(212,175,55,.45));
}
.gauge-card:nth-child(1) .gauge-ring-progress { stroke: #b185ff; }
.gauge-card:nth-child(2) .gauge-ring-progress { stroke: #efcb64; }
.gauge-value {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-size: clamp(30px, 7vw, 46px);
  text-shadow: 0 0 16px rgba(239,203,100,.35);
}
.detail-metric-grid { grid-template-columns: 1fr; gap: 10px; }
.gauge-detail .gauge-layout {
  display: grid;
  grid-template-columns: 124px minmax(0, 1fr);
  gap: 12px;
  align-items: center;
}
.gauge-card { overflow: hidden; }
.metric-copy,
.metric-block,
.metric-accordion { min-width: 0; }
.metric-copy p,
.metric-evidence,
.metric-block p {
  overflow-wrap: anywhere;
  word-break: keep-all;
}
.metric-copy p {
  margin: 0;
  color: #E0E0E0;
  line-height: 1.6;
  font-size: 15px;
}
.metric-evidence {
  margin-top: 6px;
  color: #b9c2da;
  font-size: 12px;
}
.metric-block {
  margin-top: 10px;
  padding: 10px 0;
  border: 0;
  border-radius: 0;
  background: transparent;
}
.metric-block strong {
  display: block;
  font-size: 13px;
  margin-bottom: 4px;
  color: #f1f3f8;
}
.metric-detail-btn {
  margin-top: 12px;
  width: 100%;
  min-height: 40px;
  padding: 10px 14px;
  font-size: 13px;
  border: 1px solid rgba(255,255,255,.22);
  background: rgba(255,255,255,.08);
  display: flex;
  justify-content: center;
}
.metric-accordion {
  max-height: 0;
  overflow: hidden;
  transition: max-height .3s ease;
  line-height: 1.8;
  letter-spacing: -0.5px;
}
.metric-deep {
  margin-top: 8px;
  display: grid;
  gap: 10px;
  min-width: 0;
}
.metric-deep .metric-evidence {
  margin: 0;
  padding: 8px 10px;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 10px;
  background: rgba(255,255,255,.02);
}
.metric-deep .metric-evidence strong {
  display: block;
  color: #f1f4ff;
  font-size: 14px;
  font-weight: 800;
  margin-bottom: 6px;
}
.metric-deep .metric-evidence {
  line-height: 1.8;
  letter-spacing: -0.2px;
}
.metric-deep .metric-evidence.gaeun-wood { background: rgba(74,222,128,.10); }
.metric-deep .metric-evidence.gaeun-fire { background: rgba(251,113,133,.10); }
.metric-deep .metric-evidence.gaeun-earth { background: rgba(253,224,71,.10); }
.metric-deep .metric-evidence.gaeun-metal { background: rgba(248,250,252,.10); }
.metric-deep .metric-evidence.gaeun-water { background: rgba(56,189,248,.10); }
.spell-key { color: #efcb64; font-weight: 700; }
.luck-scroll {
  margin-top: 8px;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(260px, 82%);
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 6px;
  scroll-snap-type: x mandatory;
  min-width: 0;
}
.luck-commerce-card {
  scroll-snap-align: start;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  overflow: hidden;
  background: rgba(255,255,255,.04);
  box-shadow: 0 0 18px rgba(146,118,216,.22);
}
.luck-label {
  font-size: 12px;
  color: #dbe2f5;
  padding: 8px 10px;
  border-bottom: 1px solid rgba(255,255,255,.1);
}
.luck-commerce-card img {
  width: 100%;
  height: 124px;
  object-fit: cover;
  display: block;
}
.luck-body { padding: 10px; }
.luck-body strong { display: block; margin-bottom: 6px; color: #f3f5ff; }
.luck-body p { margin: 0 0 10px; font-size: 13px; line-height: 1.65; color: #d7dceb; }
.luck-body .small { margin-top: -4px; margin-bottom: 10px; color: #bfc7de; font-size: 12px; }
.luck-cta {
  display: inline-block;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 700;
  color: #241400;
  background: linear-gradient(135deg, #f3d37a, #d7a53d);
  box-shadow: 0 0 12px rgba(243,211,122,.45);
}
.luck-cta.silver {
  color: #151824;
  background: linear-gradient(135deg, #d9deec, #aeb8d4);
  box-shadow: 0 0 10px rgba(189,200,232,.35);
}
.luck-wood .luck-commerce-card { background: linear-gradient(145deg, rgba(74,222,128,.10), rgba(255,255,255,.03)); }
.luck-fire .luck-commerce-card { background: linear-gradient(145deg, rgba(251,113,133,.10), rgba(255,255,255,.03)); }
.luck-earth .luck-commerce-card { background: linear-gradient(145deg, rgba(253,224,71,.10), rgba(255,255,255,.03)); }
.luck-metal .luck-commerce-card { background: linear-gradient(145deg, rgba(248,250,252,.10), rgba(255,255,255,.03)); }
.luck-water .luck-commerce-card { background: linear-gradient(145deg, rgba(56,189,248,.10), rgba(255,255,255,.03)); }
.pillars-compare {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}
.pillars-person h4 {
  margin: 0 0 6px;
  color: #f3f4f8;
}
.pillars-row-label {
  font-size: 12px;
  color: #b9c2da;
  margin: 4px 0;
}
.pillars-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 6px;
  margin-bottom: 6px;
}
.pillar-cell {
  border-radius: 14px;
  padding: 10px 8px;
  text-align: center;
  border: 1px solid rgba(255,255,255,.12);
}
.pillar-cell small {
  display: block;
  font-size: 10px;
  opacity: .8;
}
.pillar-cell strong {
  display: block;
  margin-top: 2px;
  font-size: 18px;
  font-weight: 800;
}
.pillars-result .pillar-cell {
  min-height: 92px;
  padding: 10px 8px 8px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.14);
  position: relative;
}
.pillars-result .pillar-cell::before {
  content: '';
  position: absolute;
  top: 7px;
  left: 8px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  opacity: .75;
}
.pillars-result .pillar-cell strong {
  font-size: 34px;
  line-height: 1.08;
  font-family: var(--font-serif);
}
.pillars-result .pillar-cell em {
  display: block;
  margin-top: 3px;
  font-style: normal;
  font-size: 12px;
  color: rgba(255,255,255,.72);
}
.pillars-result .pillar-cell.col-day {
  border: 1px solid rgba(255,215,0,.85);
  box-shadow: 0 0 15px rgba(255,215,0,.34);
}
.pillars-compare-mirror.is-pair {
  grid-template-columns: 1fr auto 1fr;
  gap: 14px;
  align-items: center;
}
.pillars-bridge {
  display: grid;
  gap: 4px;
  justify-items: center;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.03);
}
.pillars-bridge strong { color: #f3dca5; font-size: 16px; font-family: var(--font-serif); }
.pillars-bridge span { color: #dfe6ff; font-size: 12px; }
.pillars-bridge em { font-style: normal; color: #efcb64; font-size: 13px; }
.pillar-cell em {
  display: block;
  margin-top: 3px;
  font-style: normal;
  font-size: 12px;
  color: #fff;
  opacity: .98;
}
.fr-pillar-grid-head {
  margin: 8px 0 6px;
}
.fr-pillar-grid-head b {
  text-align: center;
  color: #f2d68d;
  font-size: 12px;
}
.fr-day-col {
  border-color: rgba(255,215,0,.95) !important;
  box-shadow: 0 0 10px rgba(255,215,0,.28), inset 0 0 0 1px rgba(255,215,0,.2);
}
.fr-pillar-note {
  margin-top: 10px;
  color: #e7ecff;
}
.fr-pillar-tooltip {
  margin-top: 8px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(12,12,24,.85);
  color: #f1f5ff;
  font-size: 12px;
}
.fr-pillar-big {
  padding: 12px 8px;
}
.fr-pillar-big strong {
  font-size: 30px;
  line-height: 1.1;
}
.fr-pillar-big small {
  font-size: 11px;
}
.fr-hero-card {
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,.18);
  padding: 16px;
  background: linear-gradient(155deg, rgba(29,23,51,.9), rgba(18,15,35,.92));
  box-shadow: 0 0 0 1px rgba(239,203,100,.16) inset, 0 10px 24px rgba(0,0,0,.24);
  backdrop-filter: blur(20px);
}
#frMetaBox { margin-bottom: 16px !important; }
#frPillarsBox { margin-top: 0 !important; }

/* Final report alignment polish */
.ziwei-report-page {
  --report-max: 500px;
}
.ziwei-report-page > .card,
.ziwei-report-page > section.card {
  width: min(var(--report-max), 100%);
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}
.ziwei-report-page > section.card + section.card {
  margin-top: 16px;
}
#frMetaBox,
#frPillarsBox,
#frTotalBox,
#frEngineBox {
  padding: 20px !important;
  box-sizing: border-box;
}
#frPillarsBox .pillars-grid,
#frTotalBox .total-fortune-list,
#frTotalBox .daewoon-stage-scroll {
  width: 100%;
  box-sizing: border-box;
}

.ff-global-gnb {
  position: sticky;
  top: 8px;
  z-index: 1200;
  padding: 0 20px;
  margin-bottom: 14px;
}
.ff-global-gnb .report-title-wrap { justify-items: center; }
.ff-global-gnb .brand { justify-self: center; }
.ff-circle-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  color: #f3e6bd;
  display: inline-grid;
  place-items: center;
  text-decoration: none;
  font-size: 20px;
  line-height: 1;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 14px rgba(0,0,0,.22);
}
.ff-circle-btn:hover {
  border-color: rgba(239,203,100,.55);
  box-shadow: 0 0 0 1px rgba(239,203,100,.25), 0 0 14px rgba(239,203,100,.24);
}

.fr-hero-top {
  display: grid;
  gap: 8px;
}
.fr-hero-top h3 {
  margin: 0;
  font-size: 28px;
  line-height: 1.3;
  color: #f4f6ff;
  font-family: var(--font-serif);
}
.fr-elem-badge {
  display: inline-flex;
  width: fit-content;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(255,255,255,.06);
  color: #efe3b7;
  font-size: 12px;
  font-weight: 700;
}
.fr-meta-chips {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.fr-meta-chips span {
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.05);
  color: #dee5fb;
  font-size: 12px;
}
.fr-meta-chips span:nth-child(n+3) { opacity: .86; }
.fr-seal-mini {
  margin-top: 12px;
  display: inline-grid;
  gap: 2px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(239,203,100,.3);
  background: rgba(239,203,100,.06);
}
.fr-seal-mini p {
  margin: 0;
  letter-spacing: .22em;
  color: #f0dca3;
  font-family: var(--font-number);
  font-size: 13px;
}
.fr-progress-meta {
  margin-top: 10px;
  font-size: 10px;
  color: rgba(233,240,255,.74);
  text-align: right;
}
.fr-progress-track {
  margin-top: 6px;
  height: 3px;
  width: 100%;
  border-radius: 999px;
  background: rgba(255,255,255,.09);
  overflow: hidden;
}
.fr-progress-fill {
  display: block;
  height: 100%;
  width: 0;
  border-radius: inherit;
  background: linear-gradient(90deg, var(--progress-start, #FF4D00), var(--progress-end, #FFD700));
  position: relative;
  animation: frProgressFill 1.5s ease-out forwards;
}
.fr-progress-fill::after {
  content: '';
  position: absolute;
  right: -2px;
  top: 50%;
  transform: translateY(-50%);
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--progress-end, #FFD700);
  box-shadow: 0 0 6px var(--progress-end, #FFD700);
}
@keyframes frProgressFill {
  from { width: 0%; }
  to { width: 100%; }
}
.fr-hero-fire { box-shadow: 0 0 0 1px rgba(255,146,102,.2) inset, 0 0 20px rgba(255,120,86,.16); }
.fr-hero-water { box-shadow: 0 0 0 1px rgba(121,200,255,.2) inset, 0 0 20px rgba(121,200,255,.16); }
.fr-hero-wood { box-shadow: 0 0 0 1px rgba(114,241,184,.2) inset, 0 0 20px rgba(114,241,184,.16); }
.fr-hero-metal { box-shadow: 0 0 0 1px rgba(219,233,255,.2) inset, 0 0 20px rgba(219,233,255,.16); }
.fr-hero-earth { box-shadow: 0 0 0 1px rgba(244,210,122,.24) inset, 0 0 20px rgba(244,210,122,.16); }
.pillar-cell.wood { background: rgba(74,222,128,.2); color: #a6f4c5; }
.pillar-cell.fire { background: rgba(251,113,133,.2); color: #ffc0cb; }
.pillar-cell.earth { background: rgba(253,224,71,.2); color: #ffe894; }
.pillar-cell.metal { background: rgba(248,250,252,.2); color: #ffffff; }
.pillar-cell.water { background: rgba(56,189,248,.2); color: #9de3ff; }
#pillarsBox,
#ossEngineBox {
  padding: 22px 18px !important;
  margin-bottom: 18px !important;
}
#frEngineBox {
  text-align: center;
}
#frEngineBox .small {
  font-size: 10px;
  line-height: 1.5;
  opacity: .78;
}
#pillarsBox h3,
#ossEngineBox h3 { font-size: 20px; }
#pillarsBox .small,
#ossEngineBox .small { font-size: 13px; }

.rule-map {
  margin-top: 10px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 8px 10px;
  background: rgba(255,255,255,.03);
}
.rule-map summary { cursor: pointer; color: #d9deec; font-weight: 700; }
.rule-map-table {
  margin-top: 8px;
  display: grid;
  grid-template-columns: .9fr 1.4fr 2fr;
  gap: 6px 10px;
  font-size: 12px;
  line-height: 1.55;
}
.rule-map-table strong { color: #efcb64; font-size: 12px; }

.total-fortune-page input,
.total-fortune-page select {
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.2);
  color: #fff;
}
.total-fortune-hero-head {
  position: relative;
  overflow: hidden;
  background:
    radial-gradient(120% 120% at 15% 0%, rgba(239,203,100,.2), rgba(239,203,100,0) 52%),
    linear-gradient(160deg, rgba(31,22,56,.92), rgba(23,17,38,.9));
  box-shadow: 0 0 0 1px rgba(255,235,167,.18), 0 0 24px rgba(239,203,100,.2);
}
.total-fortune-hero-head h2 {
  font-family: var(--font-serif);
  letter-spacing: .02em;
}
.tf-step-title {
  margin-bottom: 8px;
  font-family: var(--font-serif);
}
.tf-step-sub { margin-bottom: 16px; }
.tf-form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}
.tf-form-grid label {
  display: grid;
  gap: 7px;
  font-size: 12px;
  color: rgba(238,242,252,.9);
}
.tf-form-grid input,
.tf-form-grid select {
  background: rgba(255,255,255,.05) !important;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.22) !important;
  border-radius: 14px;
  min-height: 46px;
  transition: border-color .22s ease, box-shadow .22s ease, background .22s ease;
}
.tf-form-grid input:focus,
.tf-form-grid select:focus {
  border-color: rgba(255,235,167,.9) !important;
  box-shadow: 0 0 0 1px rgba(255,235,167,.4), 0 0 14px rgba(239,203,100,.3);
  background: rgba(255,255,255,.08) !important;
}
.tf-primary-btn {
  width: 100%;
  display: inline-flex;
  justify-content: center;
  text-align: center;
  background: linear-gradient(135deg, #f3d37a, #d7a53d, #8e6dff) !important;
  color: #241400 !important;
  box-shadow: 0 0 14px rgba(243,211,122,.4);
}
.tf-loading-overlay {
  position: fixed;
  inset: 0;
  z-index: 1200;
  display: grid;
  place-items: center;
  background: rgba(7, 8, 18, .76);
  backdrop-filter: blur(4px);
}
.tf-loading-card {
  width: min(520px, 92vw);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,.2);
  background: linear-gradient(160deg, rgba(31,22,56,.92), rgba(23,17,38,.9));
  padding: 16px;
}
.tf-pillar-grid {
  margin: 12px 0;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
}
.tf-pillar-grid .cell {
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 12px;
  background: rgba(255,255,255,.05);
  min-height: 64px;
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 2px;
}
.tf-pillar-grid .cell small { font-size: 10px; color: #c6cde3; }
.tf-pillar-grid .cell strong { font-size: 28px; color: #f4f6ff; line-height: 1; }
.tf-pillar-grid .cell.reveal {
  animation: tfCellIn .45s ease both;
  box-shadow: 0 0 0 1px rgba(255,255,255,.2), 0 0 16px rgba(239,203,100,.3);
}
.tf-pillar-grid .cell.wood.reveal { box-shadow: 0 0 0 1px rgba(74,222,128,.35), 0 0 16px rgba(74,222,128,.35); }
.tf-pillar-grid .cell.fire.reveal { box-shadow: 0 0 0 1px rgba(251,113,133,.35), 0 0 16px rgba(251,113,133,.35); }
.tf-pillar-grid .cell.earth.reveal { box-shadow: 0 0 0 1px rgba(253,224,71,.35), 0 0 16px rgba(253,224,71,.35); }
.tf-pillar-grid .cell.metal.reveal { box-shadow: 0 0 0 1px rgba(248,250,252,.35), 0 0 16px rgba(248,250,252,.35); }
.tf-pillar-grid .cell.water.reveal { box-shadow: 0 0 0 1px rgba(56,189,248,.35), 0 0 16px rgba(56,189,248,.35); }
.tf-loading-overlay.flash::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,.75);
  animation: tfFlash .35s ease forwards;
}
@keyframes tfCellIn {
  from { opacity: .2; transform: scale(.92); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes tfFlash {
  from { opacity: .9; }
  to { opacity: 0; }
}
.tf-confirm-list {
  margin-top: 8px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 8px 10px;
  background: rgba(255,255,255,.04);
}
.tf-confirm-list p {
  margin: 0;
  padding: 7px 0;
  display: grid;
  grid-template-columns: 86px 1fr;
  gap: 8px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.tf-confirm-list p:last-child { border-bottom: 0; }

.total-fortune-list {
  margin-top: 10px;
  display: grid;
  gap: 8px;
}
.fortune-acc {
  border: 1px solid rgba(120,132,164,.28);
  border-radius: 12px;
  background: rgba(255,255,255,.035);
  overflow: hidden;
  box-sizing: border-box;
}
.fortune-acc summary {
  list-style: none;
  cursor: pointer;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 12px 12px;
}
.fortune-acc summary::-webkit-details-marker { display: none; }
.fortune-acc .icon { font-size: 18px; }
.fortune-acc .txt {
  color: #f4ebff;
  font-weight: 700;
  line-height: 1.45;
  word-break: keep-all;
}
.fortune-acc .arr {
  color: #d7c7f5;
  transition: transform .2s ease;
}
.fortune-acc[open] .arr { transform: rotate(180deg); }
.fortune-body {
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 20px;
}
.fortune-body strong {
  display: block;
  margin-bottom: 6px;
  color: #efcb64;
}
.fortune-body p {
  margin: 0 0 10px;
  color: #d9dff1;
  line-height: 1.78;
}
.fortune-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}
.fortune-tags span {
  padding: 4px 9px;
  border-radius: 999px;
  border: 1px solid rgba(255,235,167,.4);
  background: rgba(255,255,255,.05);
  color: #efe0b1;
  font-size: 11px;
}
.daewoon-grid {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px;
}
.daewoon-card {
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 12px;
  padding: 20px;
  background: rgba(255,255,255,.04);
}
.daewoon-card small { display: block; font-size: 11px; color: #c9d2e7; }
.daewoon-card strong { display: block; margin: 4px 0 6px; color: #f1d88b; font-size: 14px; }
.daewoon-card p { margin: 0; font-size: 13px; line-height: 1.68; color: #d9dff1; }
.daewoon-card.current {
  box-shadow: 0 0 0 1px rgba(241,216,139,.45), 0 0 16px rgba(241,216,139,.22);
  background: linear-gradient(160deg, rgba(61,45,20,.34), rgba(255,255,255,.04));
}
.daewoon-card.past {
  opacity: .58;
  box-shadow: 0 0 0 1px rgba(153,189,255,.16);
}
.daewoon-card.future { box-shadow: 0 0 0 1px rgba(176,247,205,.2); }
.daewoon-detail {
  margin-top: 8px;
  border-top: 1px dashed rgba(255,255,255,.16);
  padding-top: 8px;
}
.daewoon-detail summary {
  cursor: pointer;
  font-size: 12px;
  color: #d4def7;
}
.daewoon-yearly {
  margin: 8px 0 0;
  padding-left: 16px;
  display: grid;
  gap: 4px;
}
.daewoon-yearly li {
  color: #d9dff1;
  font-size: 12px;
  line-height: 1.5;
}
.daewoon-story-grid .daewoon-card.current { grid-column: span 3; }
.daewoon-main {
  min-height: 60vh;
  padding: 16px 14px;
  border-image: linear-gradient(135deg, rgba(241,216,139,.95), rgba(243,140,60,.55)) 1;
}
.daewoon-stage-scroll {
  margin-top: 10px;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(78%, 1fr);
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 4px;
  scroll-snap-type: x mandatory;
}
.daewoon-stage-scroll > * { scroll-snap-align: start; }
.daewoon-stage-card {
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 12px;
  background: rgba(255,255,255,.03);
  padding: 8px;
}
.daewoon-stage-card summary {
  cursor: pointer;
  color: #cfd7f1;
  font-size: 12px;
  font-weight: 700;
}
.daewoon-sub { min-height: 220px; }

@media (max-width: 640px) {
  .tf-form-grid { grid-template-columns: 1fr; }
  .daewoon-grid { grid-template-columns: 1fr; }
  .daewoon-story-grid .daewoon-card.current { grid-column: span 1; }
  .daewoon-main { min-height: auto; }
  .daewoon-stage-scroll {
    grid-auto-flow: row;
    grid-auto-columns: 1fr;
    overflow-x: visible;
    scroll-snap-type: none;
  }
  .daewoon-stage-scroll > * { width: 100%; }
  .fr-pillar-big strong { font-size: 24px; }
  .fr-pillar-big em { font-size: 10px; }
  .fr-hero-card { padding: 14px; }
  .fr-hero-top h3 { font-size: 22px; line-height: 1.35; }
  .fr-meta-chips { gap: 6px; }
  .fr-meta-chips span { font-size: 11px; }
  .fr-meta-chips span:nth-child(n+3) { display: none; }
  .fr-seal-mini { margin-top: 10px; }
  .fr-seal-mini p { font-size: 12px; letter-spacing: .18em; }
  .fr-progress-meta { font-size: 9px; }
  .fortune-body p { font-size: 14px; line-height: 1.72; }
  .card { margin-bottom: 10px; }
}

@media (max-width: 640px) {
  .pillars-compare { grid-template-columns: 1fr; }
  #pillarsBox,
  #ossEngineBox { padding: 18px 14px !important; }
  .pillars-result .pillar-cell { min-height: 86px; }
  .pillars-result .pillar-cell strong { font-size: 28px; }
  .pillars-result .pillar-cell em { font-size: 11px; }
  .pillars-compare-mirror.is-pair { grid-template-columns: 1fr; gap: 10px; }
  .pillars-bridge { order: 2; }
  .rule-map-table { grid-template-columns: 1fr; }
  .luck-scroll {
    grid-auto-flow: row;
    grid-auto-columns: 1fr;
    overflow-x: visible;
    scroll-snap-type: none;
  }
  .luck-commerce-card {
    width: 100%;
    min-width: 0;
  }
  .luck-body,
  .luck-label,
  .metric-deep .metric-evidence {
    min-width: 0;
    word-break: keep-all;
    overflow-wrap: anywhere;
  }
}
.metric-info {
  display: inline-grid;
  place-items: center;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 800;
  color: #0a0b14;
  background: #d8def7;
  margin-left: 6px;
  cursor: help;
}
.gauge-detail.low { border-color: rgba(255, 183, 77, .45); box-shadow: 0 0 0 1px rgba(255,183,77,.15), 0 12px 28px rgba(0,0,0,.34); }
.gauge-detail.low .gauge-ring-progress { stroke: #FF8A65 !important; filter: drop-shadow(0 0 10px rgba(255,138,101,.45)); }
.gauge-detail.mid .gauge-ring-progress { stroke: #F6C45B !important; filter: drop-shadow(0 0 8px rgba(246,196,91,.35)); }
.gauge-detail.high { border-color: rgba(129, 199, 132, .5); box-shadow: 0 0 0 1px rgba(129,199,132,.2), 0 0 22px rgba(129,199,132,.2), 0 12px 28px rgba(0,0,0,.34); }
.gauge-detail.high .gauge-ring-progress { stroke: #81C784 !important; filter: drop-shadow(0 0 12px rgba(129,199,132,.55)); }
.gauge-status {
  position: absolute;
  left: 50%;
  bottom: -8px;
  transform: translateX(-50%);
  border-radius: 999px;
  padding: 3px 8px;
  font-size: 11px;
  font-weight: 700;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(19,18,33,.86);
  color: #e9edf9;
}
.gauge-status.low { color: #ffba98; }
.gauge-status.mid { color: #f6d682; }
.gauge-status.high { color: #a9e9ba; }
.gauge-side-clue {
  margin-bottom: 10px;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,.03);
}
.energy-chip {
  display: inline-flex;
  border-radius: 999px;
  padding: 3px 9px;
  font-size: 11px;
  font-weight: 700;
  border: 1px solid rgba(255,255,255,.14);
  margin-bottom: 5px;
}
.energy-chip.low { color: #ffba98; border-color: rgba(255,138,101,.35); }
.energy-chip.mid { color: #f6d682; border-color: rgba(246,196,91,.35); }
.energy-chip.high { color: #a9e9ba; border-color: rgba(129,199,132,.35); }
.metric-inline-cause { opacity: .92; }
.energy-compare-wrap {
  margin-top: 8px;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(255,255,255,.03);
}
.energy-row {
  display: grid;
  grid-template-columns: 64px 1fr auto;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
}
.energy-row span { font-size: 11px; color: #cfd4e5; }
.energy-row b { font-size: 11px; color: #f0f3fb; }
.energy-bar {
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.12);
  overflow: hidden;
}
.energy-bar i {
  display: block;
  height: 100%;
  width: 0;
  animation: fillBar .7s ease forwards;
  box-shadow: 0 0 10px currentColor;
}
.energy-bar i.solid { border-radius: 999px; }
.energy-bar i.dashed { background-image: repeating-linear-gradient(90deg, currentColor 0 7px, rgba(255,255,255,.2) 7px 12px) !important; }
.energy-bar i.wood { color: #4ADE80; background: #4ADE80; }
.energy-bar i.fire { color: #FB7185; background: #FB7185; }
.energy-bar i.earth { color: #FDE047; background: #FDE047; }
.energy-bar i.metal { color: #F8FAFC; background: #F8FAFC; }
.energy-bar i.water { color: #38BDF8; background: #38BDF8; }
.energy-bar i { width: var(--w, 50%); }
@keyframes fillBar { from { width: 0; } to { width: var(--w, 50%); } }
.gauge-tip-btn {
  position: absolute;
  right: -4px;
  top: -6px;
  width: 22px;
  height: 22px;
  min-width: 22px;
  min-height: 22px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(20,18,34,.78) !important;
  color: #dbe3ff;
  font-size: 12px;
  padding: 0;
  line-height: 1;
}
.gauge-floating-tip {
  position: absolute;
  left: 50%;
  top: 110%;
  transform: translateX(-50%);
  width: min(240px, 70vw);
  border-radius: 12px;
  border: 1px solid rgba(239,203,100,.42);
  background: rgba(14,14,24,.86);
  backdrop-filter: blur(8px);
  padding: 8px 10px;
  font-size: 13px;
  line-height: 1.5;
  z-index: 5;
  animation: tipDrop .22s ease;
}
.gauge-floating-tip strong { color: #f6d783; font-size: 12px; }
.gauge-floating-tip p { margin: 4px 0 0; color: #d8dff2; font-size: 12px; }
@keyframes tipDrop { from { opacity: 0; transform: translateX(-50%) translateY(-8px);} to { opacity: 1; transform: translateX(-50%) translateY(0);} }
@media (max-width: 640px) {
  .gauge-detail .gauge-layout { grid-template-columns: 1fr; }
  .gauge-detail .gauge-wrap { margin-inline: auto; }
}

.golden-calendar { display:flex; gap:10px; flex-wrap:wrap; margin: 8px 0; }
.day-mark {
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(239,203,100,.42);
  background: rgba(239,203,100,.18);
  color: var(--text);
  font-weight: 700;
}

#mindKeywordCard {
  background: linear-gradient(160deg, rgba(31, 18, 56, .82), rgba(50, 28, 85, .76));
  border: 1px solid rgba(255,255,255,.14);
}

.reveal-page,
.ziwei-report-page {
  color: #E0E0E0;
}
.reveal-page h1,
.reveal-page h2,
.reveal-page h3,
.ziwei-report-page h1,
.ziwei-report-page h2,
.ziwei-report-page h3 {
  color: #f3f4f8;
}
.reveal-page p,
.reveal-page .small,
.ziwei-report-page p,
.ziwei-report-page .small {
  color: #E0E0E0;
}
.reveal-page .card,
.ziwei-report-page .card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255,255,255,0.1);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

.locked-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); gap: 10px; }
.lock-card {
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
  background: rgba(255,255,255,.4);
  box-shadow: 0 14px 24px rgba(22,14,45,.12);
}
.lock-card.locked {
  filter: blur(1.5px);
  position: relative;
  overflow: hidden;
}
.lock-card .lock-icon {
  position: absolute;
  right: 10px;
  top: 8px;
  font-size: 26px;
  color: #efcb64;
  filter: drop-shadow(0 0 10px rgba(239,203,100,.55));
}
.lock-card .tease { font-weight: 700; color: rgba(255,240,190,.95); }
.lock-card.locked::before {
  content: attr(data-tip);
  position: absolute;
  left: 10px;
  right: 10px;
  bottom: 8px;
  font-size: 11px;
  color: rgba(255,245,210,.9);
  line-height: 1.4;
}

.glow-btn {
  box-shadow: 0 0 0 rgba(239,203,100,0);
  animation: glowPulse 1.7s ease-in-out infinite;
}
.glossy-btn {
  position: relative;
  overflow: hidden;
}
.glossy-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -130%;
  width: 58%;
  height: 100%;
  background: linear-gradient(110deg, transparent, rgba(255,255,255,.35), transparent);
  animation: glossySweep 2.4s ease-in-out infinite;
}
@keyframes glowPulse {
  0%,100% { box-shadow: 0 0 0 0 rgba(239,203,100,.05), 0 8px 14px rgba(29,18,58,.22); }
  50% { box-shadow: 0 0 0 8px rgba(239,203,100,.1), 0 12px 20px rgba(29,18,58,.3); }
}
@keyframes glossySweep {
  0% { left: -130%; }
  60%,100% { left: 155%; }
}

.experts-top-banner {
  background: linear-gradient(90deg, rgba(75,54,124,.95), rgba(120,83,195,.9));
  color: #fff;
}
.experts-top-banner p { color: rgba(255,255,255,.95); margin: 0 0 6px; }

.card, .tarot-card, .counselor-row, .option, .btn {
  box-shadow: 0 14px 24px rgba(20, 12, 38, .18), 0 2px 5px rgba(20,12,38,.12);
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: none;
  opacity: 0;
}
@keyframes particleDrift {
  0% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
  100% { transform: translateY(0); }
}


@keyframes pulse-gold {
  0% { filter: drop-shadow(0 0 2px #FFD700); transform: scale(1); }
  50% { filter: drop-shadow(0 0 10px #FFD700); transform: scale(1.05); }
  100% { filter: drop-shadow(0 0 2px #FFD700); transform: scale(1); }
}
@keyframes bichaekParticle {
  0% { opacity: .25; transform: translateY(0) scale(.7); }
  50% { opacity: 1; transform: translateY(-4px) scale(1); }
  100% { opacity: .2; transform: translateY(-8px) scale(.6); }
}
.dock-boom {
  position: fixed;
  width: 10px;
  height: 10px;
  margin-left: -5px;
  margin-top: -5px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 2000;
  background: radial-gradient(circle, rgba(255,230,145,.95), rgba(255,180,70,.4), rgba(255,180,70,0));
  animation: dockBoom .5s ease-out forwards;
}
@keyframes dockBoom {
  from { transform: scale(1); opacity: .95; }
  to { transform: scale(9); opacity: 0; }
}

/* AI 상담 모바일 타이포 다운스케일 */
@media (max-width: 640px) {
  .ai-intake-card .chat-panel {
    min-height: 220px;
    max-height: 38vh;
    gap: 10px;
  }
  .ai-intake-card .chat-panel .bubble {
    font-size: 14px;
    line-height: 1.58;
    padding: 10px 12px;
    border-radius: 16px;
  }
  .ai-intake-card label {
    font-size: 14px;
  }
  .ai-intake-card #situation {
    min-height: 88px;
    max-height: 116px;
  }
  .ai-intake-card #situation,
  .ai-intake-card #goal {
    font-size: 14px;
    line-height: 1.5;
  }
}

/* AI 상담 폰트 일관성 핫픽스 */
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
.ai-intake-card #chatPanel .bubble.ai,
.ai-intake-card #chatPanel .bubble.user {
  font-family: var(--font-body) !important;
  font-size: 15px !important;
  line-height: 1.62 !important;
  font-weight: 500;
}
.ai-intake-card #chatPanel .bubble.ai {
  font-weight: 450;
}
.ai-intake-card label,
.ai-intake-card input,
.ai-intake-card textarea,
.ai-intake-card .goal-chip {
  font-size: 14px !important;
  line-height: 1.5;
}
@media (max-width: 640px) {
  .ai-intake-card #chatPanel .bubble.ai,
  .ai-intake-card #chatPanel .bubble.user {
    font-size: 13px !important;
    line-height: 1.56 !important;
    padding: 10px 12px;
  }
  .ai-intake-card label,
  .ai-intake-card input,
  .ai-intake-card textarea,
  .ai-intake-card .goal-chip {
    font-size: 13px !important;
  }
}

/* AI 페이지 모바일 폰트/헤더 밀림 보정 */
.ai-page .ff-global-gnb .brand {
  font-size: clamp(28px, 6.2vw, 38px);
  white-space: nowrap;
}
@media (max-width: 640px) {
  .ai-page .ff-global-gnb {
    padding: 0 12px;
  }
  .ai-page .ff-global-gnb .brand {
    font-size: 32px;
    letter-spacing: .01em;
  }
  .consult-status-card h1 {
    font-size: 42px;
    line-height: 1.2;
    margin-bottom: 8px;
  }
  .consult-status-card p {
    font-size: 15px;
    line-height: 1.62;
    word-break: keep-all;
  }
  .consult-status-row {
    gap: 6px;
  }
  .consult-status-row .status-chip {
    font-size: 12px !important;
    padding: 6px 9px;
  }
}


/* AI 상담 결과/재입력 분리 개선 */
.ai-intake-card #chatPanel .bubble.ai {
  border-radius: 20px;
  padding: 24px 18px 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,.24);
}
.ai-intake-card #chatPanel .bubble.ai::before {
  content: '✨ AI 가이드';
  display: block;
  font-size: 11px;
  letter-spacing: .03em;
  color: #f3d58d;
  margin-bottom: 8px;
}
.ai-intake-divider {
  height: 1px;
  margin: 14px 0 10px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.24), transparent);
}
.ai-intake-caption {
  margin: 0 0 12px;
  font-size: 12px;
  color: rgba(226,235,255,.8);
}
.ai-intake-card label {
  display: block;
  margin: 0 0 12px;
}
.ai-intake-card #situation,
.ai-intake-card #goal {
  background: #1a1a1a !important;
  border-radius: 14px !important;
}
@media (max-width: 640px) {
  .ai-intake-card #chatPanel .bubble.ai {
    padding: 18px 14px 12px;
  }
  .ai-intake-card #chatPanel .bubble.ai::before {
    font-size: 10px;
    margin-bottom: 6px;
  }
  .ai-intake-caption {
    font-size: 11px;
  }
}


/* AI premium visual pass */
.ai-page {
  background:
    radial-gradient(120% 90% at 10% 0%, rgba(111,77,184,.22), transparent 48%),
    radial-gradient(110% 100% at 90% 12%, rgba(38,132,160,.16), transparent 52%),
    linear-gradient(180deg, #0b0b15 0%, #15142a 48%, #1a1a2e 100%);
}
.ai-page::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: .26;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.08) 0 1px, transparent 1px),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,.06) 0 1px, transparent 1px);
  background-size: 160px 160px, 210px 210px;
}
.ai-page .card {
  background: rgba(255,255,255,.045);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 16px 34px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.03);
  backdrop-filter: blur(10px);
}
.ai-page .consult-status-card h1 {
  font-weight: 800;
  letter-spacing: .01em;
}
.ai-page .consult-status-card p {
  color: rgba(225,232,248,.84);
  font-size: 15px;
  line-height: 1.62;
}
.ai-page .ai-intake-card input,
.ai-page .ai-intake-card textarea {
  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(20,20,30,.78) !important;
  transition: border-color .2s ease, box-shadow .2s ease, transform .2s ease;
}
.ai-page .ai-intake-card input:focus,
.ai-page .ai-intake-card textarea:focus {
  border-color: rgba(255,216,141,.86) !important;
  box-shadow: 0 0 0 1px rgba(255,216,141,.4), 0 0 16px rgba(255,216,141,.22);
  transform: translateY(-1px);
}
.ai-page .ai-send-btn {
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, #f7d87e, #df9c55, #b6778f) !important;
  box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3), 0 0 0 1px rgba(255,255,255,.16) inset;
}
.ai-page .ai-send-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -120%;
  width: 50%;
  height: 100%;
  background: linear-gradient(100deg, transparent, rgba(255,255,255,.45), transparent);
  animation: aiShimmer 2.8s ease-in-out infinite;
}
@keyframes aiShimmer {
  0% { left: -120%; }
  55% { left: 130%; }
  100% { left: 130%; }
}
.ai-page .goal-chip {
  background: transparent;
  border: 1px solid rgba(246,212,132,.45);
  color: #eadfb8;
}
.ai-page .goal-chip.active {
  background: rgba(255,216,141,.08);
  border-color: rgba(255,216,141,.82);
  box-shadow: inset 0 0 0 1px rgba(255,216,141,.36), 0 0 12px rgba(255,216,141,.16);
}
@media (max-width: 640px) {
  .ai-page .card {
    border-radius: 18px;
  }
  .ai-page .consult-status-card h1 {
    font-size: 36px;
  }
  .ai-page .consult-status-card p {
    font-size: 14px;
    line-height: 1.56;
  }
}

/* Global mystic BGM toggle */
.ff-bgm-toggle {
  position: fixed;
  right: 14px;
  bottom: calc(94px + env(safe-area-inset-bottom, 0px));
  z-index: 2500;
  border: 1px solid rgba(255,255,255,.22);
  background: rgba(20, 16, 34, .78);
  color: #efe7ff;
  border-radius: 999px;
  min-height: 40px;
  padding: 8px 12px;
  display: inline-flex;
  gap: 6px;
  align-items: center;
  backdrop-filter: blur(8px);
  box-shadow: 0 8px 20px rgba(0,0,0,.28);
  font-weight: 700;
  font-size: 12px;
}
.ff-bgm-toggle.on {
  border-color: rgba(245,210,120,.68);
  color: #ffd88d;
  box-shadow: 0 8px 20px rgba(0,0,0,.3), 0 0 0 1px rgba(245,210,120,.18) inset;
}
.ff-bgm-toggle b { font-size: 11px; letter-spacing: .03em; }
@media (max-width: 640px) {
  .ff-bgm-toggle {
    right: 10px;
    bottom: calc(86px + env(safe-area-inset-bottom, 0px));
    min-height: 38px;
    padding: 7px 10px;
    font-size: 11px;
  }
}

/* Fortune report action pack */
.fr-action-section {
  margin-top: 14px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 18px;
  padding: 14px;
  background: rgba(255,255,255,.04);
  backdrop-filter: blur(8px);
}
.fr-wave-wrap {
  margin-top: 8px;
  border-radius: 14px;
  background: rgba(12,12,18,.52);
  border: 1px solid rgba(255,255,255,.08);
  padding: 10px 10px 6px;
}
.fortune-wave { width: 100%; height: auto; display: block; }
.fortune-wave path {
  fill: none;
  stroke: url(#ffWaveGrad);
  stroke: #f4cc79;
  stroke-width: 3;
  filter: drop-shadow(0 0 8px rgba(244,204,121,.35));
}
.fortune-wave circle { fill: #ffd88d; }
.fortune-wave text {
  fill: rgba(224,231,255,.86);
  font-size: 10px;
  text-anchor: middle;
}
.fr-lucky-grid {
  margin-top: 8px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.fr-lucky-grid article {
  border: 1px solid rgba(255,255,255,.13);
  border-radius: 14px;
  padding: 10px;
  background: rgba(255,255,255,.03);
}
.fr-lucky-grid small { display:block; color: rgba(225,232,248,.72); margin-bottom: 4px; }
.fr-lucky-grid strong { color: #ffe4a8; font-size: 14px; }
.fr-prescription-card {
  margin-top: 14px;
  border: 1px solid rgba(245,210,120,.52);
  border-radius: 18px;
  padding: 14px;
  background: linear-gradient(135deg, rgba(38,26,11,.58), rgba(32,18,44,.56));
  box-shadow: 0 0 0 1px rgba(245,210,120,.18) inset, 0 10px 24px rgba(0,0,0,.26);
}
.fr-prescription-card h3 { margin-bottom: 8px; color: #ffd88d; }
.fr-prescription-card p { margin: 0; color: #fff4d4; font-weight: 600; line-height: 1.62; }

/* Ziwei CTA banner under fortune report */
.fr-ziwei-cta {
  margin-top: 14px;
  position: relative;
  overflow: hidden;
  border-radius: 20px;
  padding: 16px;
  border: 1px solid rgba(182, 162, 255, .36);
  background: linear-gradient(140deg, rgba(15,18,42,.9), rgba(35,20,62,.82));
  box-shadow: 0 12px 26px rgba(0,0,0,.32);
}
.fr-ziwei-cta .nebula {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(90% 80% at 8% 0%, rgba(138,92,255,.26), transparent 52%),
    radial-gradient(90% 80% at 92% 100%, rgba(73,157,255,.2), transparent 52%);
  pointer-events: none;
}
.fr-ziwei-cta small,
.fr-ziwei-cta h3,
.fr-ziwei-cta p,
.fr-ziwei-cta .fr-ziwei-go { position: relative; z-index: 1; }
.fr-ziwei-cta small { color: #dbc8ff; }
.fr-ziwei-cta h3 { margin: 6px 0 8px; color: #f5ecff; }
.fr-ziwei-cta p { margin: 0 0 12px; color: rgba(224,232,255,.86); }
.fr-ziwei-go {
  width: 100%;
  min-height: 56px;
  border-radius: 28px;
  font-size: 15px;
  background: linear-gradient(135deg, #f6da8d, #f0ad5f, #c988a0) !important;
  color: #2a1731 !important;
  box-shadow: 0 10px 24px rgba(245, 194, 112, .28), 0 0 0 1px rgba(255,255,255,.2) inset;
}

/* Ziwei transition overlay */
.ziwei-transit-overlay {
  position: fixed;
  inset: 0;
  z-index: 4500;
  display: grid;
  place-items: center;
  background: radial-gradient(circle at 50% 42%, rgba(43,35,77,.74), rgba(7,8,16,.95));
  opacity: 0;
  pointer-events: none;
  transition: opacity .28s ease;
}
.ziwei-transit-overlay.show { opacity: 1; pointer-events: auto; }
.ziwei-transit-core {
  width: min(420px, 88vw);
  text-align: center;
  padding: 18px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.04);
  backdrop-filter: blur(8px);
}
.ziwei-transit-core h3 { margin: 0 0 8px; color: #f4e9ff; }
.ziwei-transit-core p { margin: 0 0 12px; color: rgba(227,233,250,.8); }
.ziwei-transit-stars {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}
.ziwei-transit-stars span {
  height: 28px;
  border-radius: 10px;
  background: linear-gradient(135deg, rgba(120,95,210,.52), rgba(78,136,228,.38));
  border: 1px solid rgba(255,255,255,.16);
  animation: ziweiPulse 1.2s ease-in-out infinite;
  animation-delay: calc(var(--i) * .06s);
}
@keyframes ziweiPulse {
  0%,100% { transform: scale(.96); opacity: .55; }
  50% { transform: scale(1); opacity: 1; }
}

/* --- Webtoon style pillar chapter (2026-02) --- */
.webtoon-chapter {
  border: 1px solid rgba(95, 118, 165, .35);
  background: linear-gradient(180deg, rgba(248, 244, 236, .97), rgba(243, 237, 226, .93));
  border-radius: 22px;
  padding: 16px;
  color: #2d2a27;
}
.chapter-head {
  border: 2px solid rgba(42, 66, 112, .55);
  border-radius: 14px;
  padding: 12px;
  background: rgba(255,255,255,.72);
}
.chapter-no {
  display: inline-block;
  font-size: 12px;
  font-weight: 800;
  color: #334b76;
}
.webtoon-chapter h3 { margin: 4px 0 8px; color: #1f2d4e; }
.speech-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin: 12px 0;
}
.speech-row.single { grid-template-columns: 1fr; }
.speech-bubble {
  border: 2px solid rgba(20, 20, 20, .3);
  border-radius: 999px;
  padding: 14px 16px;
  text-align: center;
  background: rgba(255,255,255,.8);
  font-weight: 600;
  color: #2f2d2a;
}
.speech-bubble.emphasis {
  border-radius: 16px;
  border-color: rgba(35, 53, 89, .5);
  background: rgba(240, 248, 255, .8);
}
.webtoon-pillar-panel {
  border: 2px solid rgba(42, 66, 112, .45);
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 10px;
  background: rgba(255,255,255,.66);
}
.webtoon-pillar-panel h4 { margin: 0 0 10px; color: #20345c; }
.webtoon-pillar-table {
  display: grid;
  grid-template-columns: 76px repeat(4, minmax(0, 1fr));
  gap: 6px;
}
.webtoon-pillar-table .row-label {
  display: grid;
  place-items: center;
  border: 1px solid rgba(0,0,0,.2);
  border-radius: 10px;
  font-weight: 700;
  background: rgba(255,255,255,.84);
  color: #37322b;
}
.webtoon-cell {
  border: 1px solid rgba(0,0,0,.18);
  border-radius: 12px;
  min-height: 78px;
  padding: 6px;
  display: grid;
  justify-items: center;
  align-content: center;
  background: #f1f1f1;
}
.webtoon-cell small { font-size: 10px; color: rgba(20,20,20,.56); }
.webtoon-cell strong { font-size: 28px; line-height: 1; }
.webtoon-cell em { font-size: 11px; color: rgba(20,20,20,.7); font-style: normal; }
.webtoon-cell.wood { background: #22aab6; color: #fff; }
.webtoon-cell.fire { background: #d84d4d; color: #fff; }
.webtoon-cell.earth { background: #d7b652; color: #2e2413; }
.webtoon-cell.metal { background: #fff; color: #232323; }
.webtoon-cell.water { background: #292c35; color: #fff; }
.webtoon-cell.is-day {
  box-shadow: inset 0 0 0 2px #111;
  transform: scale(1.02);
}
@media (max-width: 640px) {
  .speech-row { grid-template-columns: 1fr; }
  .webtoon-pillar-table { grid-template-columns: 56px repeat(4, minmax(0, 1fr)); gap: 4px; }
  .webtoon-cell strong { font-size: 24px; }
}

/* --- Mobile-first default viewport (2026-02) --- */
:root {
  --mobile-app-max: 430px;
}

/* 기본 노출을 모바일 폭으로 고정 */
.container {
  width: min(var(--mobile-app-max), calc(100% - 18px)) !important;
  margin-left: auto;
  margin-right: auto;
  padding-top: 12px;
}

.card {
  border-radius: 20px;
  padding: 14px;
}

/* 결과 페이지도 기본 모바일 밀도로 */
.reveal-page .card,
.ziwei-report-page .card {
  padding: 16px 14px;
  margin-bottom: 20px;
}

/* 하단 네비/도크 모바일 터치 우선 */
.bottom-nav,
.home-bottom-nav {
  width: min(var(--mobile-app-max), calc(100% - 14px));
  border-radius: 14px;
}

.bottom-nav a,
.home-bottom-nav a {
  font-size: 12px;
  padding: 8px 6px;
}

/* 큰 화면에서도 모바일 프레임 느낌 유지 */
@media (min-width: 900px) {
  body::after {
    content: '';
    position: fixed;
    left: 50%;
    top: 10px;
    transform: translateX(-50%);
    width: min(var(--mobile-app-max), calc(100% - 16px));
    height: calc(100vh - 20px);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: 24px;
    pointer-events: none;
    box-shadow: 0 18px 40px rgba(0,0,0,.28);
    z-index: -1;
  }
}

/* --- Webtoon view mode v1 --- */
.view-mode-switch {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 12px;
}
.view-mode-switch .mode-tab {
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.12);
  color: var(--text);
  min-height: 42px;
  font-size: 13px;
}
.view-mode-switch .mode-tab.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
}
.webtoon-mode-root {
  background: #F9F7F2;
  color: #222;
  border: 1px solid rgba(20,20,20,.15);
}
.wt-cut {
  margin-bottom: 14px;
  border: 2px solid rgba(20,20,20,.3);
  border-radius: 18px;
  padding: 14px;
  background: rgba(255,255,255,.8);
  opacity: 0;
  transform: translateY(20px);
  transition: opacity .45s ease, transform .45s ease;
}
.wt-cut.on { opacity: 1; transform: translateY(0); }
.wt-badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 11px;
  border: 1px solid rgba(0,0,0,.2);
  background: #fff;
}
.wt-speech {
  margin-top: 10px;
  border: 2px solid rgba(0,0,0,.28);
  border-radius: 999px;
  padding: 12px 14px;
  background: #fff;
  text-align: center;
  font-weight: 600;
}
.wt-panel-placeholder {
  margin-top: 8px;
  border: 2px dashed rgba(0,0,0,.28);
  border-radius: 14px;
  padding: 18px;
  text-align: center;
  background: rgba(245,245,245,.8);
}
.wt-timeline {
  margin: 10px 0;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
}
.wt-timeline span {
  border: 1px solid rgba(0,0,0,.2);
  border-radius: 10px;
  text-align: center;
  padding: 8px 4px;
  background: #fff;
  font-size: 12px;
}
.wt-gauge {
  margin: 10px 0 6px;
  height: 12px;
  border-radius: 999px;
  background: #ddd;
  overflow: hidden;
}
.wt-gauge i {
  display: block;
  height: 100%;
  background: linear-gradient(90deg, #ffce6b, #cc5f7b, #6747c8);
}

/* webtoon onboarding intro block */
.webtoon-intro-card {
  border: 1px solid rgba(255,255,255,.2);
  background:
    linear-gradient(180deg, rgba(12,16,31,.75), rgba(12,16,31,.88)),
    radial-gradient(circle at 25% 10%, rgba(115,151,255,.28), transparent 40%),
    radial-gradient(circle at 75% 80%, rgba(119,88,202,.25), transparent 38%);
  color: #f7f4ff;
}
.webtoon-intro-card h3 { margin: 8px 0; color: #fff; font-size: 24px; }
.webtoon-intro-card p { color: rgba(245,241,255,.86); }
.webtoon-start-btn {
  margin-top: 10px;
  width: 100%;
  min-height: 48px;
  background: linear-gradient(135deg, #1f4fa3, #0e356f);
}
.webtoon-dialog {
  margin-top: 12px;
  display: grid;
  gap: 8px;
}
.webtoon-dialog .speech {
  background: #fff;
  color: #1f1f1f;
  border-radius: 18px;
  border: 2px solid rgba(0,0,0,.24);
  padding: 12px 14px;
  font-weight: 600;
}

/* gateway home + dual mode */
.gateway-home {
  border: 1px solid rgba(255,255,255,.16);
  background: linear-gradient(145deg, rgba(18,18,34,.92), rgba(28,20,48,.9));
}
.gateway-kicker { font-size: 11px; letter-spacing: .08em; color: rgba(238,221,255,.72); }
.gateway-home h1 { font-size: clamp(24px, 6vw, 32px); color: #fff; margin: 6px 0; }
.gateway-home p { color: rgba(239,234,255,.84); }
.gateway-actions { display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 10px; }
.gateway-btn.webtoon { background: linear-gradient(135deg, #1b4b9a, #102f63); }
.gateway-quick-cards { margin-top: 10px; display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.gateway-quick-cards article { border:1px solid rgba(255,255,255,.12); border-radius: 14px; padding: 10px; background: rgba(255,255,255,.06); color: #fff; }
.mode-current-banner { margin-bottom: 10px; border:1px solid var(--border); border-radius: 12px; padding: 8px 10px; background: rgba(255,255,255,.08); font-size: 13px; }

/* report mode: practical light cards */
body.experience-report .first-impact-page { background: #f3f4f8; }
body.experience-report .card {
  background: #fff;
  border: 1px solid #e7e9f0;
  box-shadow: 0 8px 18px rgba(15,20,40,.08);
  color: #1c2333;
}
body.experience-report .home-hero-banner,
body.experience-report .webtoon-intro-card {
  background: linear-gradient(180deg, #fdfefe, #f4f7ff);
  color: #1c2333;
}
body.experience-report .hero-eyebrow,
body.experience-report .small,
body.experience-report p { color: #53607a; }
body.experience-report .impact-copy,
body.experience-report label,
body.experience-report h1,
body.experience-report h2,
body.experience-report h3 { color: #1c2333; }
body.experience-report input,
body.experience-report select,
body.experience-report textarea {
  background: #fff;
  border-color: #d8dce8;
  color: #1c2333;
}
body.experience-report .mode-current-banner { background: #f5f7ff; border-color: #d8dff0; }

/* full rebuild step: no input on first view + mode-specific input surface */
#firstImpact[hidden] { display: none !important; }
.first-impact.as-report-sheet {
  position: sticky;
  bottom: 12px;
  z-index: 18;
  border-radius: 22px;
  box-shadow: 0 18px 42px rgba(0,0,0,.28);
}

.impact-form.webtoon-question-mode .dual-step-nav,
.impact-form.webtoon-question-mode .soft-cross-sell,
.impact-form.webtoon-question-mode #partnerFields,
.impact-form.webtoon-question-mode #subConcernWrap,
.impact-form.webtoon-question-mode #adultEntryCard,
.impact-form.webtoon-question-mode #reportViewGrid,
.impact-form.webtoon-question-mode #reportViewMode,
.impact-form.webtoon-question-mode #analysisMode,
.impact-form.webtoon-question-mode #concern,
.impact-form.webtoon-question-mode .impact-cta {
  display: none !important;
}

.impact-form.webtoon-question-mode label,
.impact-form.webtoon-question-mode input,
.impact-form.webtoon-question-mode select,
.impact-form.webtoon-question-mode #analysisModeGrid,
.impact-form.webtoon-question-mode #concernGridMain {
  display: none;
}

.impact-form.webtoon-question-mode[data-active-field="name"] label[for="name"],
.impact-form.webtoon-question-mode[data-active-field="name"] #name,
.impact-form.webtoon-question-mode[data-active-field="birth"] label[for="birth"],
.impact-form.webtoon-question-mode[data-active-field="birth"] #birth,
.impact-form.webtoon-question-mode[data-active-field="birthTime"] label[for="birthTime"],
.impact-form.webtoon-question-mode[data-active-field="birthTime"] #birthTime,
.impact-form.webtoon-question-mode[data-active-field="birthPlace"] label[for="birthPlace"],
.impact-form.webtoon-question-mode[data-active-field="birthPlace"] #birthPlace,
.impact-form.webtoon-question-mode[data-active-field="gender"] label[for="gender"],
.impact-form.webtoon-question-mode[data-active-field="gender"] #gender,
.impact-form.webtoon-question-mode[data-active-field="analysisModeGrid"] #analysisModeLabel,
.impact-form.webtoon-question-mode[data-active-field="analysisModeGrid"] #analysisModeGrid,
.impact-form.webtoon-question-mode[data-active-field="concernGridMain"] #concernMainLabel,
.impact-form.webtoon-question-mode[data-active-field="concernGridMain"] #concernGridMain {
  display: block;
}
.impact-form.webtoon-question-mode[data-active-field="analysisModeGrid"] #analysisModeGrid,
.impact-form.webtoon-question-mode[data-active-field="concernGridMain"] #concernGridMain {
  display: grid;
}
.webtoon-step-nav {
  margin-top: 10px;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px;
  background: rgba(255,255,255,.08);
}
.webtoon-step-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 8px; }

/* ===== Rebuild Home v1 ===== */
.ff-rebuild-home {
  background:
    radial-gradient(circle at 15% 8%, rgba(255,214,144,.16), transparent 34%),
    radial-gradient(circle at 80% 80%, rgba(143,122,255,.14), transparent 36%),
    linear-gradient(180deg, #0b0f22 0%, #13102a 56%, #1a1231 100%);
}
.ff-home-shell { padding-bottom: 92px; }
.ff-home-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.ff-home-header-actions {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.ff-home-menu {
  font-size: 12px;
  color: #d9d8ff;
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 999px;
  padding: 8px 12px;
  text-decoration: none;
}
.ff-guide-status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  color: #ddd6ff;
  padding: 5px 9px 5px 6px;
  min-height: 34px;
}
.ff-guide-avatar {
  width: 20px;
  height: 20px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 12px;
  background: radial-gradient(circle at 30% 25%, #fff8dc, #c5b3ff 60%, rgba(118,94,190,.45));
  box-shadow: 0 0 10px rgba(190,171,255,.4);
}
.ff-guide-text {
  font-size: 11px;
  white-space: nowrap;
}
@media (max-width: 430px) {
  .ff-home-header-actions { gap: 6px; }
  .ff-home-menu { padding: 7px 10px; }
  .ff-guide-status { padding: 5px 7px; }
  .ff-guide-text {
    max-width: 84px;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}
.ff-home-hero {
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 24px;
  padding: 20px;
  min-height: calc(100vh - 170px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  background:
    radial-gradient(circle at 78% 15%, rgba(193,164,255,.22), transparent 34%),
    radial-gradient(circle at 15% 78%, rgba(117,84,255,.22), transparent 36%),
    linear-gradient(150deg, rgba(25,29,65,.92), rgba(52,25,81,.9));
}
.ff-hero-sky {
  position: absolute;
  inset: 0;
  pointer-events: none;
}
.ff-hero-sky .moon {
  position: absolute;
  top: 26px;
  right: 26px;
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 28%, #fffef2, #e5dcff 60%, rgba(229,220,255,.2));
  box-shadow: 0 0 28px rgba(232,223,255,.45);
}
.ff-hero-sky .star {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 0 10px rgba(255,255,255,.9);
  opacity: .85;
}
.ff-hero-sky .s1 { top: 22%; left: 16%; }
.ff-hero-sky .s2 { top: 18%; left: 30%; }
.ff-hero-sky .s3 { top: 32%; left: 10%; }
.ff-hero-sky .s4 { top: 44%; left: 22%; }
.ff-hero-sky .s5 { top: 28%; right: 20%; }
.ff-hero-sky .s6 { top: 54%; right: 14%; }
.ff-hero-sky .s7 { top: 66%; left: 14%; }
.ff-home-kicker { position: relative; z-index: 1; font-size: 11px; letter-spacing: .1em; color: rgba(238,231,255,.82); margin: 0 0 8px; }
.ff-home-hero h1 { position: relative; z-index: 1; margin: 0; font-size: clamp(28px, 7.2vw, 38px); line-height: 1.25; white-space: pre-line; text-shadow: 0 4px 20px rgba(128,89,206,.45); }
.ff-home-sub { position: relative; z-index: 1; margin: 12px 0 0; color: rgba(238,237,255,.9); font-size: 15px; }
.ff-home-cta-grid {
  margin-top: 20px;
  display: grid;
  gap: 12px;
}
.ff-home-cta {
  position: relative;
  z-index: 1;
  min-height: 116px;
  border-radius: 18px;
  font-weight: 700;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  gap: 4px;
  text-align: left;
  padding: 16px 18px;
  border: 1px solid rgba(255,255,255,.24);
}
.ff-home-cta strong { font-size: 20px; line-height: 1.25; text-shadow: 0 2px 14px rgba(0,0,0,.28); }
.ff-home-cta em { font-style: normal; font-size: 13px; opacity: .94; }
.ff-cta-kicker {
  display: inline-flex;
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 11px;
  background: rgba(255,255,255,.2);
}
.ff-home-cta.webtoon {
  background: linear-gradient(140deg, rgba(74,123,255,.95), rgba(57,67,197,.95));
  box-shadow: 0 12px 30px rgba(87,88,225,.5);
}
.ff-home-cta.report {
  background: linear-gradient(140deg, rgba(84,57,122,.86), rgba(41,35,76,.86));
}
.ff-home-category,
.ff-home-proof {
  margin-top: 14px;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 18px;
  padding: 14px;
  background: rgba(12,12,27,.48);
}
.ff-home-category h3,
.ff-home-proof h3 { margin: 0 0 10px; font-size: 17px; }
.ff-home-category-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.ff-home-category-grid article {
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 12px;
  padding: 10px;
  background: rgba(255,255,255,.06);
}
.ff-home-category-grid strong { display: block; font-size: 14px; }
.ff-home-category-grid p { margin: 6px 0 0; font-size: 12px; color: rgba(238,234,255,.78); }
.ff-home-proof ul { margin: 0; padding-left: 18px; color: rgba(238,234,255,.84); }
.ff-home-proof li + li { margin-top: 6px; }

/* Rebuild home v2 - single flow poster + list */
.ff-home-hero--poster {
  min-height: auto;
  padding: 16px;
}
.ff-poster-card {
  position: relative;
  z-index: 2;
  border-radius: 18px;
  min-height: 55vh;
  padding: 22px 18px;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  background:
    linear-gradient(180deg, rgba(9,10,24,.15) 20%, rgba(7,7,20,.75) 100%),
    radial-gradient(circle at 72% 22%, rgba(139,115,240,.38), transparent 38%),
    radial-gradient(circle at 18% 18%, rgba(170,154,255,.25), transparent 42%),
    linear-gradient(145deg, #232852, #19152f 60%, #110f1f);
  border: 1px solid rgba(255,255,255,.2);
}
.ff-poster-year {
  margin: 0 0 4px;
  font-size: 36px;
  font-family: 'Pretendard', var(--font-body);
  font-weight: 900;
  letter-spacing: -0.02em;
  color: rgba(248,243,255,.95);
}
.ff-poster-card h1 {
  margin: 0;
  font-size: clamp(54px, 14vw, 72px);
  font-family: 'Pretendard', var(--font-body);
  font-weight: 900;
  line-height: 1;
  letter-spacing: -0.02em;
  color: #fff;
  text-shadow: 0 6px 24px rgba(0,0,0,.5);
}
.ff-poster-sub {
  margin: 10px 0 0;
  font-size: 24px;
  color: rgba(247,240,255,.92);
}
.ff-poster-card--seongun .ff-poster-year,
.ff-poster-card--seongun h1,
.ff-poster-card--seongun .ff-poster-sub,
.ff-poster-card--seongun .seongun-line,
.ff-poster-card--seongun .seongun-badge {
  position: relative;
  z-index: 2;
}
.ff-mega-cta {
  position: relative;
  z-index: 2;
  margin-top: 12px;
  min-height: 56px;
  border-radius: 14px;
  background: linear-gradient(135deg, #1f4da3, #123677);
  font-size: 21px;
  font-weight: 800;
  overflow: hidden;
  animation: ctaPulse 2.4s ease-in-out infinite;
}
.ff-mega-cta::after {
  content: '';
  position: absolute;
  top: -120%;
  left: -48%;
  width: 38%;
  height: 320%;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.34), rgba(255,255,255,0));
  transform: rotate(22deg);
  animation: ctaShine 2.8s ease-in-out infinite;
  pointer-events: none;
}
.ff-home-category--list { margin-top: 14px; }
.ff-home-category--list h3 { font-size: 22px; }
.ff-list-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}
.ff-list-card {
  text-decoration: none;
  color: #fff;
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 14px;
  padding: 14px;
  background: linear-gradient(135deg, rgba(33,34,61,.72), rgba(20,20,38,.72));
}
.ff-list-card strong { display:block; font-size: 20px; margin-bottom: 4px; }
.ff-list-card p { margin: 0; color: rgba(227,220,248,.82); font-size: 14px; }

@media (max-width: 430px) {
  .ff-poster-card { min-height: 50vh; }
  .ff-poster-card h1 { font-size: 58px; }
  .ff-poster-sub { font-size: 20px; }
  .ff-mega-cta { font-size: 19px; }
}

.ff-home-rail-wrap {
  margin-top: 14px;
  margin-bottom: 20px;
}
.ff-home-rail-wrap h3 { margin: 0 0 10px; font-size: 20px; font-weight: 800; }
.ff-home-rail {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 82%;
  gap: 10px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding-bottom: 6px;
}
.ff-home-rail::-webkit-scrollbar { height: 6px; }
.ff-home-rail::-webkit-scrollbar-thumb { background: rgba(255,255,255,.25); border-radius: 999px; }
.ff-theme-card {
  scroll-snap-align: start;
  min-height: 360px;
  border-radius: 20px;
  overflow: hidden;
  text-decoration: none;
  color: #fff;
  padding: 18px;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  border: 1px solid rgba(255,255,255,.22);
  background: var(--bg) center/cover no-repeat;
}
.ff-theme-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  pointer-events: none;
}
.ff-theme-card > * {
  position: relative;
  z-index: 1;
}
.ff-theme-card .year { font-size: 18px; opacity: .9; margin-bottom: 2px; }
.ff-theme-card strong { font-size: 52px; line-height: .95; letter-spacing: -0.02em; }
.ff-theme-card em { font-style: normal; font-size: 18px; margin-top: 8px; color: rgba(244,241,255,.92); }

@media (max-width: 430px) {
  .ff-home-rail { grid-auto-columns: 88%; }
  .ff-theme-card { min-height: 340px; }
  .ff-theme-card strong { font-size: 46px; }
}

/* rail refinement v2 */
.ff-theme-card {
  position: relative;
}
.ff-theme-card .progress {
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 700;
  background: rgba(0,0,0,.46);
  border: 1px solid rgba(255,255,255,.24);
}
.ff-theme-card strong {
  white-space: pre-line;
  font-size: 58px;
  line-height: .92;
  text-shadow: 0 6px 18px rgba(0,0,0,.55);
}
.ff-theme-card.is-adult {
  border-color: rgba(255,140,188,.75);
  box-shadow: 0 0 0 1px rgba(255,140,188,.35), 0 18px 32px rgba(255,89,162,.22);
}
.ff-theme-card.is-adult em { color: rgba(255,223,242,.94); }

@media (max-width: 430px) {
  .ff-theme-card strong { font-size: 50px; }
  .ff-theme-card .progress { font-size: 13px; padding: 5px 9px; }
}

.ff-list-lead {
  margin: -2px 0 10px;
  color: rgba(224,218,245,.82);
  font-size: 13px;
}
.ff-list-card {
  position: relative;
}
.ff-list-card .tag {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 10px;
  font-weight: 800;
  letter-spacing: .05em;
  color: #ffdca4;
  border: 1px solid rgba(255,220,164,.45);
  border-radius: 999px;
  padding: 4px 8px;
  background: rgba(0,0,0,.28);
}
.ff-list-card strong {
  padding-right: 66px;
}

/* Seong-un guide v1 */
.ff-poster-card--seongun {
  position: relative;
  overflow: hidden;
}
.ff-poster-card--seongun::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.02) 0px,
      rgba(255,255,255,0.02) 1px,
      transparent 1px,
      transparent 4px
    );
  mix-blend-mode: soft-light;
  pointer-events: none;
}
.seongun-hero-illust {
  position: absolute;
  right: -34px;
  top: 2px;
  width: 48%;
  height: 74%;
  border-radius: 20px 20px 18px 18px;
  background:
    linear-gradient(180deg, rgba(8,10,22,0) 0%, rgba(8,10,22,.45) 58%, rgba(8,10,22,.8) 100%),
    url('/assets/home-ref/charm.jpg') center 14%/cover no-repeat;
  border: 1px solid rgba(255,255,255,.22);
  box-shadow: 0 18px 34px rgba(6,5,18,.48);
  opacity: .92;
  transform: translateX(8px) scale(1.03);
  transform-origin: right top;
  pointer-events: none;
}
.seongun-stage {
  position: absolute;
  right: 10px;
  top: 14px;
  width: 140px;
  height: 180px;
  pointer-events: none;
}
.seongun-avatar {
  position: absolute;
  right: 0;
  bottom: 0;
  width: 118px;
  height: 152px;
  border-radius: 60px 60px 24px 24px;
  background:
    radial-gradient(circle at 52% 26%, rgba(255,245,236,.95) 0 18%, transparent 19%),
    radial-gradient(circle at 55% 32%, rgba(249,220,205,.95) 0 22%, transparent 23%),
    linear-gradient(180deg, #2f4f8f 0%, #24386d 48%, #1a2348 100%);
  border: 1px solid rgba(255,255,255,.25);
  box-shadow: 0 12px 26px rgba(7,6,24,.55);
}
.seongun-avatar::before {
  content: "";
  position: absolute;
  inset: 8px;
  border-radius: 54px 54px 18px 18px;
  border: 1px solid rgba(255,255,255,.22);
  background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.03));
}
.zodiac-ring {
  position: absolute;
  left: 0;
  top: 18px;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 1px dashed rgba(183,164,255,.56);
  box-shadow: inset 0 0 18px rgba(160,137,255,.22), 0 0 20px rgba(160,137,255,.2);
}
.seongun-line {
  margin: 14px 0 0;
  max-width: 58%;
  font-size: 14px;
  line-height: 1.45;
  color: rgba(240,233,255,.9);
  text-shadow: 0 2px 12px rgba(0,0,0,.44);
}
.seongun-line.is-typing::after,
.seongun-line.is-typed::after {
  content: '▋';
  margin-left: 2px;
  display: inline-block;
  width: 8px;
}
.seongun-line.is-typing::after {
  color: rgba(255,238,196,.9);
  animation: seongunCaretBlink 0.9s steps(1, end) infinite;
}
.seongun-line.is-typed::after {
  color: transparent;
  animation: none;
}
.seongun-badge {
  margin-top: 10px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  max-width: 62%;
  font-size: 11px;
  color: rgba(244,234,255,.92);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 999px;
  padding: 6px 10px;
  background: rgba(7, 9, 20, .46);
}

@media (max-width: 430px) {
  .seongun-hero-illust { width: 50%; height: 66%; right: -22px; top: 10px; transform: translateX(8px) scale(1.02); }
  .seongun-stage { width: 126px; height: 166px; right: 8px; }
  .seongun-avatar { width: 106px; height: 138px; }
  .zodiac-ring { width: 106px; height: 106px; }
  .seongun-line { font-size: 13px; }
  .seongun-badge { font-size: 10px; padding: 5px 8px; }
  .ff-featured-card { min-height: 132px; padding: 10px; }
  .ff-featured-card strong { font-size: 19px; }
  .ff-mid-cta { min-height: 46px; font-size: 13px; }
  .ff-home-rail-wrap h3,
  .ff-featured-grid-wrap h3 { font-size: 16px; }
  .ff-home-ranking { padding: 9px; }
  .ff-ranking-list strong { font-size: 11.5px; }
}

.ff-featured-grid-wrap {
  margin-top: 12px;
  margin-bottom: 20px;
}
.ff-featured-grid-wrap h3 { margin: 0 0 8px; font-size: 18px; font-weight: 800; }
.ff-featured-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 9px;
}
.ff-featured-card {
  min-height: 142px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  padding: 11px;
  text-decoration: none;
  color: #fff;
  background: var(--bg) center/cover no-repeat;
  display: flex;
  align-items: flex-end;
  position: relative;
  overflow: hidden;
}
.ff-featured-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  pointer-events: none;
}
.ff-featured-card strong {
  position: relative;
  z-index: 1;
  white-space: pre-line;
  font-size: 22px;
  line-height: 1.08;
  text-shadow: 0 4px 12px rgba(0,0,0,.45);
}

.ff-mid-cta {
  margin-top: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  color: #fff;
  min-height: 50px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.24);
  background: linear-gradient(135deg, #214ea2, #173c82);
  font-weight: 700;
}

.ff-home-ranking {
  margin-top: 10px;
  margin-bottom: 20px;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 12px;
  background: rgba(6,8,16,.56);
  padding: 10px;
}
.ff-home-ranking h3 {
  margin: 0 0 8px;
  font-size: 15px;
  font-weight: 800;
}
.ff-ranking-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 6px;
}
.ff-ranking-list li a {
  display: grid;
  grid-template-columns: 24px 1fr;
  align-items: center;
  gap: 9px;
  text-decoration: none;
  color: #efeaff;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 9px;
  padding: 8px 9px;
  background: rgba(255,255,255,.03);
}
.ff-ranking-list .rank {
  width: 20px;
  height: 20px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 11px;
  font-weight: 800;
  background: linear-gradient(135deg, #f0c86a, #9d6bff);
  color: #190f2d;
}
.ff-ranking-list strong {
  font-size: 12px;
  line-height: 1.22;
}
.ff-ranking-list em {
  display: none;
}

.ff-home-snack {
  margin-top: 12px;
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 14px;
  background: rgba(9,11,20,.55);
  padding: 12px;
}
.ff-home-snack h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 800;
}
.ff-home-snack-sub {
  margin: 6px 0 10px;
  color: rgba(226,220,245,.8);
  font-size: 12px;
}
.ff-snack-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
}
.ff-snack-card {
  display: block;
  text-decoration: none;
  color: #efeaff;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 12px;
  padding: 10px;
  background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  position: relative;
  overflow: hidden;
}
.ff-snack-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  pointer-events: none;
}
.ff-snack-card strong,
.ff-snack-card em {
  position: relative;
  z-index: 1;
}
.ff-snack-card strong {
  display: block;
  font-size: 14px;
  margin-bottom: 2px;
}
.ff-snack-card em {
  display: block;
  font-style: normal;
  font-size: 12px;
  color: rgba(226,220,245,.8);
}
